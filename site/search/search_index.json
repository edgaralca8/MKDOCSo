{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"SPRINT1/","title":"1. Sistema operatiu","text":""},{"location":"SPRINT1/#2-punts-de-restauracio","title":"2. Punts de restauraci\u00f3","text":""},{"location":"SPRINT1/#3-llicenciament","title":"3. Llicenciament","text":""},{"location":"SPRINT1/#4-gestors-darrancada","title":"4. Gestors d\u2019arrancada","text":""},{"location":"SPRINT1/#5-configuracio-xarxa-basica","title":"5. Configuraci\u00f3 xarxa b\u00e0sica","text":""},{"location":"SPRINT1/#6-comandes-generals","title":"6. Comandes generals","text":""},{"location":"SPRINT1/#7-installacions-de-programari","title":"7. Instal\u00b7lacions de programari","text":""},{"location":"SPRINT1/1.-Sistema-Operatiu/","title":"1. Sistema Operatiu","text":""},{"location":"SPRINT1/1.-Sistema-Operatiu/#1-sistema-operatiu","title":"1. Sistema operatiu","text":"<p>El primer que farem ser\u00e0 crear una m\u00e0quina virtual Ubuntu 24 des de VirtualBox i comen\u00e7ar la instal\u00b7laci\u00f3.</p> <p>Per a comen\u00e7ar dins de virtual box el que farem ser\u00e0 entrar amb virtual box i seleccionar nova    despres asignarem la iso i farem unskipped instalation  Seguidament afegim la memoria i el processadors  Ara el que farem sera muntar un disk   Ara ja veurem el resum i podem engegar la maquina  </p> <p>Un cop dins de la maquina virtual, el primer que seleccionarem \u00e9s que volem una instal\u00b7laci\u00f3 normal i les actualitzacions  Afegirem les credencials per accedir posteriorment  Seguidament l'idioma  Li direm seg\u00fcent a les pr\u00f2ximes </p> <p></p> <p></p> <p> Fins aqu\u00ed, seleccionarem l'opci\u00f3 d'instal\u00b7lar  Amb una instal\u00b7laci\u00f3 interactiva  Seg\u00fcent  Seg\u00fcent  Seg\u00fcent amb instal\u00b7laci\u00f3 manual  Aqu\u00ed crearem una partici\u00f3 de 10GB al swap  Afegirem 37 GB de partici\u00f3 al directori home  La resta d'espai per a la Ext4 a l'arrel  Finalment queda aix\u00ed  Seg\u00fcent  I ja haur\u00edem finalitzat la instal\u00b7laci\u00f3, li direm finalitzar i comprovarem que podem entrar  Com es pot veure, ja podem accedir amb l'usuari creat pr\u00e8viament </p>"},{"location":"SPRINT1/2.-Punts-de-Restauraci%C3%B3/","title":"2. Punts de Restauraci\u00f3","text":""},{"location":"SPRINT1/2.-Punts-de-Restauraci%C3%B3/#2-punts-de-restauracio","title":"2. Punts de restauraci\u00f3","text":"<p>El primer pas ser\u00e0 tenir una m\u00e0quina Ubuntu 24 Desktop on obrirem una terminal i farem la comanda <code>sudo apt install timeshift</code>, el qual ens instal\u00b7lar\u00e0 l'aplicaci\u00f3 Timeshift  Crearem una carpeta i un arxiu de text per a fer les comprovacions  Entrarem al Timeshift  Seleccionem la primera opci\u00f3  Afegim la partici\u00f3 a la qual volem crear-li un punt de restauraci\u00f3  Ens sortir\u00e0 aix\u00f2 per defecte i ho modificarem de la manera que necessitem  Aquesta ser\u00e0 la nostra elecci\u00f3  Li direm que volem incloure tots els fitxers  Finalitzem  Un cop fet aix\u00f2, li diem crear i que s'afegeixi el punt  Esborrem els arxius de prova  A la que hem creat, li direm restaurar  Seg\u00fcent  Ens reinicia la m\u00e0quina mentre fa el proc\u00e9s  Tornem a obrir la m\u00e0quina, anem al directori i, com es veu, ja s'han recuperat els arxius </p>"},{"location":"SPRINT1/3.Llicenciament/","title":"3.Llicenciament","text":""},{"location":"SPRINT1/3.Llicenciament/#3-llicenciament","title":"3. Llicenciament","text":"<p>Aques es el emu codi de creative commons, que es mostra al peu de pagina</p> <p>La meua creative commons</p>"},{"location":"SPRINT1/4.-Gestors%20d_arrancada/","title":"4. Gestors d arrancada","text":""},{"location":"SPRINT1/4.-Gestors%20d_arrancada/#4-gestors-darrencada","title":"4. Gestors d\u2019arrencada","text":"<p>El primer que hem de saber \u00e9s que hi ha diverses maneres de recuperar el boot, la primera que provarem ser\u00e0 la de Grub2.</p> <p>El primer pas d'aquesta ser\u00e0 esborrar el Grub amb la seg\u00fcent comanda  Seguidament, reiniciarem la m\u00e0quina i veurem que no es pot obrir  Afegirem la ISO del Grub 2 a la m\u00e0quina virtual  S'obrir\u00e0 amb el seg\u00fcent men\u00fa  Seleccionarem la seg\u00fcent opci\u00f3  I d'aquestes, la primera  Un cop fet aix\u00f2, ja podr\u00edem tornar a arrencar la m\u00e0quina amb normalitat </p> <p>El seg\u00fcent m\u00e8tode que provarem \u00e9s el Boot Repair.</p> <p>El primer pas d'aquesta ser\u00e0 esborrar el Grub amb la seg\u00fcent comanda  Seguidament, reiniciarem la m\u00e0quina i veurem que no es pot obrir  Afegirem la ISO del Boot Repair a la m\u00e0quina virtual  Seleccionarem la primera opci\u00f3  I ja autom\u00e0ticament far\u00e0 tot el proc\u00e9s </p> <p> </p> <p> Eliminarem la ISO i iniciarem la m\u00e0quina  Per \u00faltim, ja entrarem a la m\u00e0quina de manera normal </p>"},{"location":"SPRINT1/5.-Configuraci%C3%B3-%20xarxa-b%C3%A0sica/","title":"5. Configuraci\u00f3  xarxa b\u00e0sica","text":""},{"location":"SPRINT1/5.-Configuraci%C3%B3-%20xarxa-b%C3%A0sica/#5-configuracio-xarxa-basica","title":"[5. Configuraci\u00f3 xarxa b\u00e0sica]","text":"<p>El primer pas \u00e9s accedir a la configuraci\u00f3 de xarxa d'una m\u00e0quina  Despr\u00e9s, afegirem manual i ho canviarem  Veurem amb l'IP a qu\u00e8 s'ha canviat i ho farem tamb\u00e9 amb un altre mode  Esborrarem el seg\u00fcent arxiu.  Entrarem al directori on est\u00e0 la configuraci\u00f3 de la xarxa, farem un <code>ls</code> per veure els arxius i obrirem amb un <code>sudo nano</code> l'arxiu de configuraci\u00f3  Canviarem els par\u00e0metres per afegir els seg\u00fcents que ens donaran servei  Farem un <code>sudo netplan apply</code> i veurem com s'ha canviat la IP </p>"},{"location":"SPRINT1/6.-Comandes-Generals/","title":"6. Comandes Generals","text":""},{"location":"SPRINT1/6.-Comandes-Generals/#6-comandes-generals","title":"[6. Comandes generals]","text":"<p>Contingut sobre comandes generals... Apt apt update</p> <p>apt upgrade</p> <p>apt dist-upgrade</p> <p>apt build-dep paquete</p> <p>apt install paquete</p> <p>apt intall paquete=</p> <p>apt remove paquete</p> <p>apt purge paquete</p> <p>apt autoremove</p> <p>apt clean</p> <p>apt-cache depends paquete</p> <p>apt-rdepends paquete</p> <p>apt -f install</p> <p>apt-cache policy paquete</p> <p>Aptitude aptitude remove paquete</p> <p>aptitude purge paquete</p> <p>aptitude install paquete</p> <p>aptitude show paquete</p> <p>DPKG dpkg -r paquete</p> <p>dpkg -P paquete</p> <p>dpkg -i archivo.deb</p> <p>dpkg -s paquete</p> <p>dpkg \u2013get-selections | grep paquete</p> <p>Repositoris main: programario soportado oficialmente</p> <p>restricted: programario suportat no disponible bajo licenciamiento completamente libre.</p> <p>universe: progomario soportado por la comunidad.</p> <p>multiverse: programario que no es libre</p> <p>Copia del archivo /etc/apt/sources.list: Agregar lineas de repositiorios.</p> <p>apt-get update</p> <p>i apt-get install paquete</p> <p>Compilar el codigo fuente Instalar lo necesario apt-get install build-essential</p> <p>tar: tar xvf archivo.tar</p> <p>gz: gunzip archivo.gz o gzip -d archivo.gz</p> <p>tgz, tar.gz: tar xvzf archivo.tar.gz</p> <p>bz2: bunzip2 archivo.bz2 o bzip2 -d archivo.bz2</p> <p>tar.bz2: tar xvjf archivo.tar.bz2</p> <p>zip: unzip archivo.zip</p> <p>rar: rar -x archivo.rar</p> <p>entrar a la carpeta</p> <p>./configure</p> <p>make</p> <p>make install</p> <p>make uninstall</p> <p>binarios chmod +x arxiu.bin</p> <p>sudo ./arxiu.bin</p>"},{"location":"SPRINT1/7.-Instal-lacions-programari/","title":"7. Instal lacions programari","text":""},{"location":"SPRINT1/7.-Instal-lacions-programari/#installacions-de-programari","title":"Instal\u00b7lacions de programari","text":"<p>Per a fer intalacions de programaria a linux el metode a emprar \u00e9s ulitzaci\u00f3 de comandis com els seg\u00fcents</p> <p>Instal\u00b7lar paquets: suo apt-*get install nom_de el_paquet</p> <p>Eliminar paquets: suo apt-*get remove nom_de el_paquet</p> <p>Buscar paquets: apt-cache search paraula_clau</p> <p>Obtenir llistes actualitzades dels paquets disponibles: suo apt-*get update</p> <p>Modernitzar el seu sistema amb les actualitzacions disponibles: suo apt-get dist-upgrade</p> <p>Veure m\u00e9s comandos i opcions: apt-*get help</p> <p>Tamb\u00e9 existeix la eina synaptic que es molt senzilla d'instal\u00b7lar i ens pot ajudar </p> <p></p>"},{"location":"SPRINT2/","title":"1. Gestio de processos","text":""},{"location":"SPRINT2/#2-gestio-dusuaris-grups-i-permisos","title":"2. Gestio d'usuaris grups i permisos","text":""},{"location":"SPRINT2/#3-sistemesde-fitxers-i-particions","title":"3. Sistemesde fitxers i particions","text":""},{"location":"SPRINT2/#4-copies-de-seguretat-i-automatitzacio-de-tasques","title":"4. Copies de seguretat i automatitzaci\u00f3 de tasques","text":""},{"location":"SPRINT2/#5-quotes-de-disc","title":"5. Quotes de disc","text":""},{"location":"SPRINT2/1.-Gesti%C3%B3-de-processos/","title":"1. Gesti\u00f3 de processos","text":"<p>Introducci\u00f3</p> <p>En aquest sprint aprendrem a gestionar els usuaris, grups i permisos dins d\u2019un sistema Linux. A m\u00e9s, configurarem pol\u00edtiques de seguretat tant per als comptes d\u2019usuari com per al sistema en general. Tamb\u00e9 instal\u00b7larem i ajustarem serveis i processos essencials del sistema operatiu, i treballarem amb sistemes de fitxers i noves particions. A m\u00e9s, implementarem un sistema de c\u00f2pies de seguretat i, per finalitzar, farem proves per assegurar-nos que tot funciona correctament.</p> <p>Gesti\u00f3 de processos</p> <p>Comencem definint qu\u00e8 \u00e9s un proc\u00e9s: es tracta d\u2019un programa que s\u2019est\u00e0 executant i que inclou el seu propi codi, els recursos que t\u00e9 assignats i el seu estat d\u2019execuci\u00f3. Els processos en Linux poden funcionar en primer pla o en segon pla. Els que s\u2019executen en primer pla requereixen la interacci\u00f3 directa amb l\u2019usuari, mentre que els de segon pla poden funcionar sense necessitat d\u2019aquesta interacci\u00f3. Una de les primeres ordres que farem servir per visualitzar els processos \u00e9s pstree. </p> <p>Aquesta comanda ens mostra els processos actius en forma d\u2019arbre, indicant quins s\u00f3n els processos principals i quins en depenen, si n\u2019hi ha.</p> <p>pstree</p> <p></p> <p>Amb la mateixa comanda si volem saber a l'usuari que correspon i a quin n\u00famero de proc\u00e9s tenim ho podem realitzar amb les lletres h (usuari) i p (proc\u00e9s).</p> <p>pstree -p -h usuari</p> <p></p> <p>A continuaci\u00f3 veurem com matar un proc\u00e9s, per aix\u00f2 ser\u00e0 necessari saber quin n\u00famero de proc\u00e9s li correspon a cadascun d'aquestos. En el cas de matar un proc\u00e9s pare tots els processos fills haurien de morir, tot i que hi ha una possibiltat de que alg\u00fan quedi viu, i aquestos s'anomenen zombies. Per matar un proc\u00e9s utilitzarem la seguent comanda i el n\u00famero de proc\u00e9s:</p> <p>kill -9 (PID) Per fer la prova he utilitzat un altre terminal i m'he guardat el seu PID, per matar el proc\u00e9s tal i com es demostra a continuaci\u00f3:</p> <p> </p> <p>La comanda anterior fa una imatge dels processos, aquestos no canvien en temps real, per fer una consulta d'aquest tipus utilitzarem la comanda \"top\".</p> <p>top</p> <p>Aquesta comanda ens dona molta informaci\u00f3 per columnes, i ara veurem que vol dir cada columna. PID: Identificador \u00fanic del proc\u00e9s. USER: Usuari que inicia el proc\u00e9s. %CPU: Percentatge d'\u00fas del processador. %MEM: Percentatge d'\u00fas de la mem\u00f2ria RAM. COMMAND: Nom de la comanda o programa. </p> <p>En cas d'obrir un nou proc\u00e9s (ex: firefox ) aquest ens apareixer\u00e0.</p> <p></p> <p>La prioritat no es pot modificar directament, per\u00f2 amb el NI (nice) si que es pot canviar, contra mes baix es el n\u00famero m\u00e9s prioritat t\u00e9. Aix\u00f2 es pot fer amb la seg\u00fcent comanda. Val a dir que caldria fer-ho des de el root ja que com sabem ens otorga m\u00e9s privilegis.</p> <p>renice -n -n\u00baprioritat -p PID</p> <p></p> <p>Aquesta comanda serveix per moments determinats la prioritat per renice no es permanent. - Seguidament tamb\u00e9 podem utilitzar la comanda \"ps aux\" que ens dona una informaci\u00f3 similar per\u00f2 amb diferents parametres que veurem a continuaci\u00f3: USER: Usuari que ha iniciat el proc\u00e9s. PID: Identificador \u00fanic del proc\u00e9s. %CPU i %MEM: Percentatge de CPU i mem\u00f2ria RAM utilitzats pel proc\u00e9s. VSZ: Mem\u00f2ria virtual total utilitzada pel proc\u00e9s. RSS: Mem\u00f2ria f\u00edsica utilitzada pel proc\u00e9s. TTY: Terminal associat al proc\u00e9s ( ? si no en te). STAT: Estat del proc\u00e9s. R Executant-se (Running). S = Inactiu. T = Pausat. Z = Proc\u00e9s zombi. I = Inactiu o sense consumir recursos. &lt; = Alta prioritat de CPU. s = L\u00edder de sessi\u00f3. l = Multithread. + = Associat al terminal en primer pla.</p> <p></p> <ul> <li>Amb el ps podem fer varies combinacions per mostrar informaci\u00f3 en concret a continuaci\u00f3 veurem quines s\u00f3n i que fan.</li> </ul> <p>ps -e - Mostra tots els procesos del sistema amb una sintaxis estandar.</p> <p>ps -ejH - Mostra un arbre de procesos-</p> <p>ps -eLf - Mostra la informaci\u00f3 dels fils (threads).</p> <p>ps -eM - Mostra informaci\u00f3 de seguretat</p> <p>ps -U - Mostra tots els processos de root. A continuaci\u00f3 veurem que s\u00f3n els processos amb segon pla i com passar processos a aquest estat. Com hem dit abans amb el kill -9 matem un proc\u00e9s i amb el ctrl+c l'aturem i amb el ctrl+z si que el passariem a segon pla. (Nota: segons el tipus de proc\u00e9s que aturem, si aquest va per terminal igaul no se'ns mostra en segon pla). La comada per veure els processos en segon pla es la seg\u00fcent.</p> <p>jobs</p> <p></p> <p>Un cop tenim aquest proc\u00e9s localitzat i no volem matar-lo sino que el volem enviar al primer pla podem utilitzar la seg\u00fcent comanda.</p> <p>fg %n\u00ba </p> <p></p> <p></p> <p>En cas de voler fer el proc\u00e9s invers i enviar un proc\u00e9s al segon pla podem utilitzar:</p> <p>bg %n\u00ba En algun cas espacial igual volderm executar algun proc\u00e9s directament amb segon pla, i es pot fer de la seguent forma.</p> <p>nomproces &amp; A l'hora de consultar processos amb top em vist que es una eina en viu i que els processos que volem consultar es van movent i, a vegades se'ns pot fer complicat llegir-lo. En cas de voler evitar aix\u00f2 i sol consultar el PID d'un proc\u00e9s en concret podem fer servir la seg\u00fcent comanda.</p> <p>pgrep nomproces</p> <p></p> <p>Per acabar, si en algun moment volem utilitzar alg\u00fan script o proc\u00e9s i que aquest tingui una prioritat predeterminada per nosaltres es pot fer amb el nice.</p> <p>nice -n n\u00baprioritat nomproces</p>"},{"location":"SPRINT2/2.-Gesti%C3%B3-d_usuaris%2C-grups-i-permisos/","title":"2. Gesti\u00f3 d usuaris, grups i permisos","text":"<p>Gesti\u00f3 d'usuaris grups i permisos Es important que al nostres sistema tinguem diferents usuaris i que aquestos tinguen diferents caracteristiques, i que els puguem incloure en grups per classificar-los. A m\u00e9s a m\u00e9s, tamb\u00e9 ens interessar\u00e0 poder modificar-los, eliminar-los i bloquejar-los al nostre gust. Tot aix\u00f2 i m\u00e9s ho veurem a continuaci\u00f3. - Commandes terminal i accessos als directoris Per a accedir al terminal normalment ho faremt amb un crtl + alt + t, aix\u00ed obrim el pseudo terminal. El terminal com a tal l'obrirem al el ctrl dret + F3, aquest es un terminal TTY. Un pseudo terminal es com un emulador on les comandes que posem son interpretades per alg\u00fan arxiu al que fan referencia i aquest fa els procediments, en canvi amb un terminal si que estem amb contacte directe amb el sistema.</p> <p>En primer lloc veurem un document que actua com un registre de tots els comptes d'usuaris presents al sistema. Inclou dades com el nom del compte, l'identificador d'usuari (UID), el directori personal i el shell configurat per defecte. Es tracta d'un fitxer p\u00fablic, cosa que permet que qualsevol pugui consultar qui s\u00f3n els usuaris del sistema.</p> <p>nano /etc/passwd</p> <p></p> <p>A continuaci\u00f3 podem veure els grups dels usuaris i l'identificador de qui es el seu administrador.</p> <p>nano /etc/group</p> <p></p> <p>A continuaci\u00f3, en aquest arxiu es guarda la informaci\u00f3 relacionada amb les contrasenyes dels comptes d'usuari. Cada registre fa refer\u00e8ncia a un usuari i inclou la seva contrasenya codificada. Si apareix el s\u00edmbol \"!\", aix\u00f2 indica que el compte est\u00e0 deshabilitat i l'usuari no t\u00e9 perm\u00eds per accedir al sistema.</p> <p>nano /etc/shadow</p> <p></p> <p>Per \u00faltim aquest arxiu \u00e9s comparable a /etc/group, per\u00f2 ofereix detalls extres sobre els grups. En aquest lloc es pot identificar qui s\u00f3n els administradors de cada grup. Resulta pr\u00e0ctic per controlar els permisos i gestionar els privilegis d'acc\u00e9s dels diferents grups d'usuaris.</p> <p>nano /etc/gshadow</p> <p></p> <ul> <li>Creaci\u00f3 d'usuaris Per crear usuaris tenim diverses formes de fer-ho, el m\u00e9s important es tenir clar que amb certes comandes no es creen directoris sol usuaris. A continuaci\u00f3 es mostrar\u00e0 com crear usuaris.</li> </ul> <p>En primer lloc utilitzarem la seg\u00fcent comanda, aquesta ens creara un usuari pero fins que no fessim un log in amb aquest no ens crear\u00e0 els directoris. Aquesta es la forma m\u00e9s senzilla de crear els usuaris ja que et ve pautada pel propi sistema operatiu.</p> <p>adduser usuari</p> <p> </p> <p>Per crear un nou compte d'usuari al sistema, farem servir la comanda useradd. Aquesta comanda ens permetr\u00e0 afegir usuaris al sistema amb diversos par\u00e0metres que ens ajuden a configurar les seves propietats. A continuaci\u00f3, detallem alguns dels par\u00e0metres m\u00e9s destacats que podem utilitzar: -m: Indica que es generar\u00e0 autom\u00e0ticament un directori personal per a l'usuari.</p> <p>-s /bin/bash: Aquest par\u00e0metre ens permet definir el shell per defecte de l'usuari.</p> <p>-d /home/alumne2: Amb aquest par\u00e0metre, especifiquem el directori inicial de l'usuari. Per exemple, en aquest cas, el directori personal ser\u00e0 /home/alumne2.</p> <p>alumne2: Correspon al nom de l'usuari que estem creant. En aquest exemple, l'usuari es dir\u00e0 \"alumne2\".</p> <p>&amp;&amp; passwd alumne2: Aquesta comanda s\u2019utilitza per assignar o modificar la contrasenya de l\u2019usuari \"alumne\".</p> <p>useradd usuari </p> <ul> <li>Sino utilitzem la comanda -m per als directoris els podem afegir de la seg\u00fcetn manera.</li> </ul> <p>mkdir usuari</p> <p> </p> <p> Si volem canviar el nom de l'usuari podem utilitzar la seg\u00fcent comanda. EN el cas que hi ha a continuaci\u00f3 volem canviar el nom d'usuari de porva2, ja que hauria de ser prova2.</p> <p>usermod -l usernou user </p> <p></p> <p></p> <p>En cas de voler eliminar acc\u00e9s a un usari ho podem fer bloquejant-lo, la comanda seria la seg\u00fcent. Una forma de comprovar que s'ha bloquejat correctament es entrar a la carpeta de passwd i veurem que la contrasenya del usuari al davant t\u00e9 un signe d'exclamaci\u00f3 \"!\"</p> <p>usermod -L usuari</p> <p> </p> <p></p> <ul> <li>Seguint amb la creaci\u00f3 d'usuaris, si tenim un usuari bloquejat i el volem recuperar utilitzarem aquesta comanda. A l'hora de comprovar-ho ens fixarem que ja no te l'exclamaci\u00f3.</li> </ul> <p>usermod -U usuari</p> <p> </p> <ul> <li>Si realment el que volem es eliminar l'usuari de forma m\u00e9s permanent ho farem amb la seg\u00fcent comanda. Per comprovar si l'hem eliminat correctament podem entrar a la carpeta passwd i veurem que l'usuari ja no hi es.</li> </ul> <p>deluser usuari</p> <p> </p> <p> Per complementar una mica les comandes que tenim, aqu\u00ed en tenim algunes que ens poden ajudar tamb\u00e9, la seg\u00fcent elimina la \"home\" de l'usuari.</p> <p>rm -r usuari Un dels problemes habituals es que no eliminem les homes i directoris dels usuaris, amb la seg\u00fcent comanda ho podem fer tot a la vegada.</p> <p>userdel -r usuari En cas de voler consultar algun tipus d'informaci\u00f3 sobre algun usuari, podem fer-ho aix\u00ed.</p> <p>id usuari  Un cop vist com es el funcionament a trav\u00e9s del terminal podrem observar com es fa per l'interficie gr\u00e0fica d'Ubuntu. Dins de la configuraci\u00f3 de sistema hem d'entrar a l'apartat usuaris, i despr\u00e9s seguirem els passos que hi ha a continuaci\u00f3.</p> <p> </p> <p> </p> <p> </p> <p> </p> <p>  - Creaci\u00f3 de grups En aquest apartat veurem com funcionen els grups d'usuaris, com hem vist anteriorment podem consultar els grups i les seves contrasenyes. Important dir que quan es crea un usuari tamb\u00e9 es crea un grup amb el nom d'aquest. Per crear un grup nou ho podem fer amb una senzilla comanda.</p> <p>addgroup grup</p> <p> </p> <p> </p> <p>D'altra banda si el que volem es afegir un usuari a un grup existent ho podem fer d'aquesta manera.</p> <p>adduser usuari grup</p> <p> </p> <p> </p> <p>L'operaci\u00f3 anterior tamb\u00e9 es pot fer amb aquesta comanda.</p> <p>gpasswd -a usuari grup Per fer a un usuari administrador d'aquell grup ho podem fer aix\u00ed. Dins de la carpeta gshadow podem veure els usuaris i administradors dels grups, per reconeixels veurem la posici\u00f3 que tenen entre els \":\", l'alumne 2 es administrador d'asix1 i membre d'asix2.</p> <p>gpasswd -A usuari grup</p> <p> </p> <p> </p> <p>Un dels majors problemes es que quan afegim usuaris a grups amb les comandes anteriors els treu del grup on estaven, per evitar-ho hem d'utilitzar la seg\u00fcent comanda. Com comprovarem l'usuari alumne2 forma part dels dos grups d'asix i es administrador del primer.</p> <p>usermod -a -G grup usuari </p> <p> </p> <p> </p> <p>Per eliminar un usuari d'un grup ho farem com veurem a continuaci\u00f3. En aquest cas l'alumne2 ja te prous responsabilitats i l'eliminarem del grup d'asix1.</p> <p>gpasswd -d usuari grup</p> <p> </p> <p> </p> <p>L'anterior comanda tamb\u00e9 es pot fer amb aquesta altra</p> <p>deluser usuari grup   Per fer un usuari el principal d'un grup en concret utilitzarem el seg\u00fcent.</p> <p>usermod -g grup usuari En cas de voler canviar el nom d'algun grup ho farem amb la seg\u00fcent comanda.</p> <p>groupmod -n grupnou grupvell</p> <p> </p> <p> </p> <ul> <li>Configuraci\u00f3 de fitxers d'usuari Com hem vist tenim una serie de comandes per defecte que tenen una serie d'efectes sobre els usuaris que hem creat. Tot aix\u00f2 es pot canviar, la seva \u00fatilitat resideix en que si volem que els nostres usuaris nous tinguin diferents directoris o incl\u00fas politiques de contrasenyes diferents. Ara veurem com es modifiquen els seg\u00fcents arxius. El primer arixu que modificarem es el /etc/default/useradd que ens permet establir els valors predefinits per als nous usuaris, com la ruta del directori personal i el shell per defecte. Per configurar-lo utilitzem la seg\u00fcent comanda.</li> </ul> <p>nano /etc/default/useradd Els parametres que es poden modificar son els seg\u00fcents: GROUP: Especifica el grup que s'assignar\u00e0 com a grup principal per defecte als nous usuaris. Si est\u00e0 comentat o no existeix, el sistema crea un grup nou per a cada nou usuari amb el mateix nom que l'usuari. HOME: Defineix la ruta base per als directoris de casa dels nous usuaris. Per defecte, \u00e9s /home. Si vols canviar la ubicaci\u00f3 dels directoris de casa, pots modificar aquest par\u00e0metre. INACTIVE: Estableix el nombre de dies despr\u00e9s dels quals una contrasenya expirada passar\u00e0 a estar inactiu si no es canvia. Un valor de -1 desactiva aquesta funcionalitat. EXPIRE: Data en qu\u00e8 l'usuari expira, en format AAAAMMDD. Si est\u00e0 comentat o no s'especifica, l'usuari no expira mai. SHELL: Indica el shell per defecte per als nous usuaris. El valor predeterminat \u00e9s /bin/sh, per\u00f2 es pot canviar a /bin/bash o qualsevol altre shell disponible. SKEL: Especifica el directori des del qual es copiaran els fitxers de configuraci\u00f3 per defecte quan es cre\u00ef un nou usuari. El valor predeterminat \u00e9s /etc/skel. CREATE_MAIL_SPOOL: Si est\u00e0 establert a \"yes\", es crear\u00e0 una carpeta de correu per a l'usuari nou. Per defecte, est\u00e0 establert a \"yes\". </p> <p> </p> <p>Aquestes son unes possibles modificacions (d'exemple) </p> <p> </p> <p>Un altre fitxer que podem modificar es el de la politica de contrasenyes que es aquest /etc/login.defs</p> <p>nano /etc/login.defs Els parametres que ens permet modificar son: MAIL_DIR: Defineix l'ubicaci\u00f3 del directori d'emmagatzematge de correu per als nous usuaris. Per defecte, \u00e9s /var/mail. PASS_MAX_DAYS: Nombre m\u00e0xim de dies que una contrasenya pot ser v\u00e0lida. Per defecte, pot ser 99999, el que significa que no expira mai. PASS_MIN_DAYS: Nombre m\u00ednim de dies entre canvis de contrasenya. Per defecte, \u00e9s 0, el que permet canvis immediats. PASS_MIN_LEN: Longitud m\u00ednima de la contrasenya; no obstant aix\u00f2, en sistemes moderns, aquest par\u00e0metre pot no tenir efecte, ja que la complexitat de la contrasenya es gestiona amb PAM (Pluggable Authentication Modules). PASS_WARN_AGE: Nombre de dies abans de l'expiraci\u00f3 de la contrasenya que es notifica a l'usuari. Per defecte, \u00e9s 7. UID_MIN i UID_MAX: Rangs m\u00ednim i m\u00e0xim per als identificadors d'usuari (UID) per als nous usuaris. Aix\u00f2 ajuda a assegurar que no es cre\u00efn usuaris amb UID que podrien entrar en conflicte amb comptes del sistema o altres usuaris. GID_MIN i GID_MAX: Rangs m\u00ednim i m\u00e0xim per als identificadors de grup (GID) per als nous grups. CREATE_HOME: Si est\u00e0 establert a \"yes\", es crea el directori de casa de l'usuari quan es crea un nou compte; si no, no es crea. Per defecte, pot ser \"no\" en alguns sistemes per raons de seguretat o per configuracions espec\u00edfiques. ENCRYPT_METHOD: M\u00e8tode de xifrat utilitzat per a les contrasenyes. Pot ser SHA512 o altres m\u00e8todes segons la versi\u00f3 del sistema. UMASK: Defineix el valor per defecte de la m\u00e0scara de permisos per als fitxers creats pels usuaris, afectant els permisos per defecte dels fitxers i directoris. USERGROUPS_ENAB: Si est\u00e0 establert a \"yes\", quan un usuari es suprimeix, el seu grup principal tamb\u00e9 es suprimeix si no hi ha altres membres en aquest grup.</p> <p> </p> <ul> <li>Possibles modificacions (d'exemple)</li> </ul> <p> </p> <p>Per \u00faltim veurem el directori /etc/skel, dins d'aquest directori trobarem uns fitxers que son .bashrc .profile i .bash_logout. Aquestos fitxers s\u00f3n scripts de configuraci\u00f3 per al shell Bash i Sh que permeten personalitzar l'entorn de l'usuari.</p> <p>Quan es crea un nou usuari amb un directori home, el contingut d'aquest directori /etc/skel es copia al nou directori home de l'usuari. Aix\u00f2 permet configurar arxius i directoris per defecte per a tots els nous usuaris.</p> <p> </p> <p>.bashrc:</p> <p>Aquest arxiu s'executa cada vegada que es crea un nou shell interactiu que no \u00e9s un shell de login (per exemple, quan obres una nova finestra de terminal). Es pot utilitzar per:</p> <p>Definir variables d'entorn: Per a variables que no necessiten ser establertes en el context de login.</p> <p>Ajustar alias: Crear atacs r\u00e0pids per a comandaments llargs o freq\u00fcents.</p> <p>Configurar funcions de shell: Afegir funcions personalitzades per facilitar tasques rutin\u00e0ries.</p> <p>Personalitzar el prompt: Canviar l'aparen\u00e7a del prompt del terminal.</p> <p>Establir par\u00e0metres de shell: Com historial, compleci\u00f3 de comandaments, etc.</p> <p>A continuaci\u00f3 un exemple d'us, canviant un \"alias\". Farem que ll sigui equivalent a la comanda ls -l, aix\u00ed cada cop que posem ll s'executar\u00e0 un ls -l.</p> <p> </p> <p>.profile:</p> <p>Aquest fitxer s\u2019executa autom\u00e0ticament quan l\u2019usuari inicia sessi\u00f3. Serveix per definir variables d\u2019entorn i aplicar altres configuracions globals. Alguns exemples d\u2019\u00fas s\u00f3n:</p> <p>Definir variables d\u2019entorn, com PATH.</p> <p>Configurar el prompt o ajustar altres opcions del shell.</p> <p>Carregar altres fitxers de configuraci\u00f3, com .bashrc, si existeix.</p> <p>A continuaci\u00f3 un exemple d'us, canviarem l'editor de text per defecte i farem que sigui nano, ja que es el que m\u00e9s utilitzo.</p> <p> </p> <p>.bash_logout</p> <p>Aquest fitxer s\u2019executa de forma autom\u00e0tica quan l\u2019usuari tanca una sessi\u00f3 interactiva. \u00c9s especialment \u00fatil per a:</p> <p>Alliberar recursos o aturar processos temporals.</p> <p>Mostrar missatges de comiat o finalitzaci\u00f3 de sessi\u00f3.</p> <p>Executar scripts personalitzats per tasques de manteniment.</p> <p>A continuaci\u00f3 configurarem un missatge de sortida.</p> <p> </p> <p>Gesti\u00f3 de permisos En els casos d'un sistema multiusuari on vulguem que diferents usuaris tinguin certs permisos per\u00f2 no els mateixos, \u00e9s important fer una bona gesti\u00f3 d'aquestos. Hi han vaires maneres de gestionar-ho, i les veurem a conitnuaci\u00f3.</p> <ul> <li>Permisos estandars Els permisos estandars son una serie de permisos b\u00e0sics que es poden donar a tots els usuaris i grups. Els grups poden tenir diferents permisos respecte als usuaris, una forma de comprovar aix\u00f2 ho podem fer de la seg\u00fcent forma.</li> </ul> <p>ls -l </p> <p></p> <p>En aquest cas podem observar que el primer root que apareix \u00e9s de l\u2019usuari i el segon \u00e9s del grup principal. Tamb\u00e9 surt la data de creaci\u00f3 i noms de directori, per\u00f2 la part important \u00e9s al principi. </p> <p></p> <p>Aqu\u00ed es on podem apreciar els permisos que hi han dins dels directoris. Despr\u00e9s de la lletra d, els primers permisos s\u00f3n els d'usuari \"rwx\" en aquest cas, aix\u00f2 vol dir que por llegir, escriure i executar, b\u00e0sicament te tots els permisos. Despr\u00e9s els seg\u00fcents permisos son els de grup equivalents a les 3 lletres seg\u00fcents: \"r-x\", en aquest cas com podem veure no te permisos per escriure. I per \u00faltim tenim els ultims 3 car\u00e0cters que equivalen a altres, usuaris que no s\u00f3n ni usuari principal ni formen part del grup principal, en aquest cas: \"r-x\", la mateixa situaci\u00f3 que abans no poden escriure per\u00f2 si llegir i executar. Aquest exemple es amb \"root\". A continuaci\u00f3 veurem com nosaltres podem agregar permisos als usuaris i grups.</p> <p>chmod -R Opcions de fitxer/carpeta</p> <p>chrgp -R Grup propietari fitxer/carpeta</p> <p>chown - R Propietari fitxer/carpeta. Cada lletra dels permisos te un significat associat: u = usuari, g = grup, o = others, a = all. - Permisos especials - Sticky L'sticky es un perm\u00eds d'acc\u00e9s per fitxers i directoris. Quan l'apliquem l'\u00fanic usuari que el pot canviar es el root. Es pot aplicar de la seg\u00fcent manera.</p> <p>chmod +t directori</p> <p>chmod 1775 directori Aix\u00f2 es molt \u00fatil en sistemes multiusuari ja que sol el root i l'usuari que ha creat cert directori poden borrar o modificar el directori, els altres sol tenen permisos de lectura o escriptura. En cas de voler eliminar l'sticky podem utilitzar la seg\u00fcent comanda.</p> <p>chmod -t directori - sgid sgid es un perm\u00eds que esta relacionar amb els grups i principalment permet que qualsevol usuari executi l'arxiu com si fos part del grup al que pertany aquell arxiu. Per utilitzar-la podem fer el seg\u00fcent.</p> <p>chmod g+s - suid suid permet que un arxiu s'executi com si fos el propietari independentment de l'usuari que l'executi. Aquest a diferencia del sgid i sticky no es pot fer un script.</p> <p>chmod g+s  - Llistes de control d'acc\u00e9s (ACLs) Una llista de control d'acc\u00e9s son una serie de regles que ens permeten uns accesos a sistemes de fitxers en aquest cas. Aquestes llistes ens poden donar uns accesos mes restrictius o mes permisius segons la configuarci\u00f3 que faci l'usuari. Per crear una ACL utilitzem la seg\u00fcent comanda.</p> <p>setfacl</p> <p>setfacl -m user:usuari:rw- exemple.text</p> <p>setfacl -m group:grup:rwx carpeta</p> <p>setfacl -b fitxer o carpeta Les restriccions venen donades per les lletres com hem vist abans, utilitza la mateixa nomenclatura. Per comprovar si les restriccions s'han aplicat correctament podem utilitzar la seg\u00fcent comanda.</p> <p>getfacl</p> <p> Si ens em equicocat a l'hora de configurar alguna ACL podem eliminar totes les excepcions. (TOTES).</p> <p>setfacl -x usuari carpeta - Umask Umask s'utilitza per canviar la mascara del mode de creaci\u00f3 d'arxius, auesta determina el valor inicial dels permisos que tindran els arxius que es creein. De forma predeterminada la mascara te el valor dels bits de perm\u00eds que NO s'han d'establir, per aix\u00f2 fem l'operaci\u00f3 de negaci\u00f3. Amb les seguents imatges entendrem millor la situaci\u00f3.</p> <p></p> <p></p> <ul> <li>El que esta fetn umask es una operaci\u00f3 coneguda com NOR, el que equivaldria a una resta convencional. - Aquestes operacions es poden realitzar amb la seg\u00fcent comanda, tot i que aix\u00f2 sol funcionar\u00e0 temporalment (els arxius ja creats no canvien de permisos).</li> </ul> <p>umask + n\u00ba - Per a que els canvis siguin permanents tenim que modificar la umask al arxiu que tenim a la seg\u00fcent ruta.</p> <p>/etc/login.defs - Un cop obert l'arxiu modifiquem el valor de la umask per defecte i aquest canvi si que es permantent.  </p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/","title":"Sistemes de fitxers i particions","text":""},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-estructura-de-la-informacio","title":"- Estructura de la informaci\u00f3","text":"<ul> <li>L'estructura de la informaci\u00f3 la podem dividir en diverses parts: la f\u00edsica que seria el disc (s\u00f2lid o mec\u00e0nic), i l'estructura l\u00f2gica que pot ser (gpt o mbr). La part l\u00f2gica pot ser consultada a trav\u00e9s de commandes per la terminal tal i com es mostra a continuaci\u00f3:</li> </ul> <pre><code>gdisk /dev/sda\n</code></pre> <p> - Els discs estan dividits amb blocs i dins de cada bloc tenim uns sectors. El sector \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades i per defecte \u00e9s 512 bytes, per\u00f2 el SO no treballa en sectors treballa en blocs. El bloc \u00e9s la unitat m\u00ednima l\u00f2gica on es guarden les dades per defecte. La mida del sector no es pot canviar ve definida de f\u00e0brica, per\u00f2 la mida del bloc si es pot canviar. Quan formatem la partici\u00f3. Per consultar les mides del sector podem utilitzar les seguents comandes.</p> <pre><code>fdisk -l\n</code></pre> <p>  - Com hem vist tamb\u00e9 ens surt on es troba instalat el sistema operatiu (part resaltada de l'imatge anterior). Per seguir analitzant les mides de les particions podem utilitzar la seg\u00fcent comanda.</p> <pre><code>tune2fs -l /dev/sda | grep Block\n</code></pre> <p> - Seguidament si necessitem saber la informaci\u00f3 de les particions i sistemes de fitxers que s'utilitzen podem utilitzar aquesta comanda.</p> <pre><code>df -T\n</code></pre> <p>  - Les mides dels blocs segons el tipus de fitxers que es guardin ens pot donar problemes, ara veurem dos possibles problemes amb les seves respectives solucions.</p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-fragmentacio-interna","title":"- Fragmentaci\u00f3 interna","text":"<p>La fragmentaci\u00f3 interna \u00e9s l\u2019espai que desaprofitem dels blocs perqu\u00e8 no s\u2019acaben d\u2019emplenar. Una soluci\u00f3 possible \u00e9s canviar la mida del block redu\u00efm la fragmentaci\u00f3 interna, per\u00f2 pots fragmentar un arxiu (baixes el rendiment), busquem un equilibri. Aquesta canvi de mida per reduir l'espai del bloc ens pot servir si emmagatzemem arxius que no tinguin una mida molt gran, com podiren ser els fitxers de text. D'altra banda si volem guardar fitxers mes grans com podrien ser pel\u00b7licules o ISOs em de fer m\u00e9s gran la mida del bloc perqu\u00e9 sino fragmentarem molt els arxius. RECOMANACI\u00d3! buscar sempre un equilibri i emmagatzemar els tipus d'arxius diferents en particions diferents, per no barrejar \"pelis amb textos\".</p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-fragmentacio-externa","title":"- Fragmentaci\u00f3 externa","text":"<p>La fragmentaci\u00f3 externa \u00e9s quan el disc fa temps que treballa i els arxius es guarden en blocs separats i no continus, aix\u00f2 ens fa baixar el rendiment, aquesta baixada de rendiment es pot solucionar desfragmentant el disc. La desfragmentaci\u00f3 intenta ordenar els arxius per a que no estiguin .</p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-tipus-de-formateig","title":"- Tipus de formateig","text":"<p>Hi ha tres maneres de formatar un disc i son les seg\u00fcents.</p> <ul> <li> <p>R\u00e0pid: Aquest formateig no borra els arxius, elimina el sistema de fitxers i en cas d'haver-hi un bloc defectuos s'ignora.</p> </li> <li> <p>Nivell mig: Aquest tampoc elimina els arxius sin\u00f3 que elimina el sistema de fitxers igual que ho fa el r\u00e0pid, la diferencia es que el mig detecta i marca els sectors i/o blocs defectuosos, sense reperar-los.</p> </li> <li> <p>Nivell baix: En aquest igual necessitem alg\u00fan programa extern. I en aquest cas si es borren els arxius, es borra tot i intenta reparar els blocs defectuosos. \u00c9s el m\u00e9s lent dels tres. Amb commandes tamb\u00e9 tal i com es mostra a continuaci\u00f3. Hi ha una command per mostar la cantitat de fragmentaci\u00f3 que tenim a la partici\u00f3 en concret (ens recomana si em de desfragmentar o no), i despr\u00e9s una altra per desfragmentar-lo.</p> </li> </ul> <pre><code>e4defrag -c /dev/sda2 (consulta)\n</code></pre> <pre><code>e4defrag /dev/sda2 (desfragmentaci\u00f3)\n</code></pre> <p> </p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-particions","title":"- Particions","text":""},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-creacio-de-particions-i-formateig","title":"- Creaci\u00f3 de particions i formateig","text":"<ul> <li>En primer lloc per entrar a un disc utilitzem la comanda:</li> </ul> <pre><code>fdisk /dev/sdb\n</code></pre> <ul> <li>Aqu\u00ed assignem la configuraci\u00f3 de la partici\u00f3, en aquest cas seguim amb la configuraci\u00f3 per defecte fins al punt de la mida dels sectors, el primer (0-2048) esta reservat per al arrel?, i despr\u00e9s assignem l'espai que vulguem. I finalment confirmem la configuraci\u00f3.</li> </ul> <ul> <li>Amb la comanda de fdisk -l, mirem la configuraci\u00f3 que em fet sigui correcte.</li> </ul> <ul> <li>Per definir la mida del bloc que volem configurar podem utilitzar la seg\u00fcent comanda. Amb aquesta comanda fem la creaci\u00f3 d'una partici\u00f3 amb el format d'arxius que vulguem. </li> </ul> <pre><code>mkfs.ext4 -b 2048 /dev/sdb1\n</code></pre> <p> - Per assegurar-nos de les mides podem utilitzar la seg\u00fcent comanda. </p>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-muntatge","title":"- Muntatge","text":"<ul> <li> <p>Dos opcions: temporal i definitiva:</p> </li> <li> <p>Temporal: mount es temporal, un cop montem la partici\u00f3 els fitxers que hi havien abans no apareixen i visceversa. Per comprovar aix\u00f2 podem seguir els seg\u00fcents passos crear un arxiu abans del muntatge i un despr\u00e9s, aix\u00ed veurem que quan el disc esta muntat sol veiem l'arxiu que em fet mentres aquest estava muntat, en canvi l'arxiu previ sol el podrem visualitzar despr\u00e9s de desmuntar-lo, mentres estigui muntat no el veurem. En aquest exemple fem una carpeta \"particio1\" i dins posem un arxiu \"hola\".</p> </li> </ul> <p></p> <ul> <li>Al fer un ls veiem que no ens apareix l'arxiu hola sino un que es diu \"lost+found\".</li> </ul> <p></p> <ul> <li>Despr\u00e9s provem de fer un arxiu nou adeu dins la partici\u00f3 i com veiem aquest si ens apareix al fer un ls de la carpeta.</li> </ul> <p></p> <ul> <li>Permanent: es al fitxer <code>/etc/fstab</code></li> </ul> <p></p> <p>En aquest fitxer podem definir els seg\u00fcents parametres:</p> <ul> <li> <p>/dev/sdb1: \u00c9s el dispositiu de bloc que es muntar\u00e0.</p> </li> <li> <p>/home: \u00c9s el punt de muntatge, el directori on es muntar\u00e0 el sistema de fitxers de /dev/sdb1. En aquest cas, es munta a /home.</p> </li> <li> <p>ext4: \u00c9s el tipus de sistema de fitxers que utilitza la partici\u00f3 /dev/sdb1.</p> </li> <li> <p>defaults: S\u00f3n les opcions de muntatge. defaults significa que s'utilitzen les opcions est\u00e0ndard de muntatge per a ext4.</p> </li> <li> <p>0: El primer zero es refereix a l'opci\u00f3 dump, que indica si el sistema de fitxers ha de ser copiat amb dump (un programa de c\u00f2pia de seguretat). Un valor de 0 significa que no es far\u00e0 c\u00f2pia de seguretat autom\u00e0ticament.</p> </li> <li> <p>0: El segon zero \u00e9s per a l'opci\u00f3 pass, que indica l'ordre en qu\u00e8 fsck (programa de comprovaci\u00f3 i reparaci\u00f3 de sistemes de fitxers) ha de ser executat en el sistema de fitxers durant l'inici. Un valor de 0 significa que fsck no es far\u00e0 autom\u00e0ticament en aquest sistema de fitxers.</p> </li> </ul>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#-comparticio-de-la-carpeta-a-traves-dels-servidors-samba","title":"- Compartici\u00f3 de la carpeta a trav\u00e9s dels servidors SAMBA","text":""},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#ext4","title":"ext4","text":"<ul> <li>El primer pas en el nostre cas es canviar a l'adaptador pont de la nostra m\u00e0quina virtual.</li> </ul> <ul> <li>Seguidament instal\u00b7lem el smb client. L'eina smbclient et permet accedir als recursos compartits d'un servidor SMB, de manera similar a un client FTP de l\u00ednia de comandes. La pots utilitzar, per exemple, per carregar i descarregar fitxers cap a i des d'un recurs compartit.</li> </ul> <pre><code>apt install smbclient\n</code></pre> <ul> <li>Despr\u00e9s instal\u00b7larem el nautilus.</li> </ul> <pre><code>apt install nautilus-share\n</code></pre> <ul> <li>Per comprovar si el nautilus funciona hem de seleccionar l'opci\u00f3 de <code>recursos compartits</code> d'un directori, el mes probable es que no funcioni.</li> </ul> <ul> <li>Per continuar com aquest pas no ens ha funcionat instal\u00b7lem samba.</li> </ul> <pre><code>apt install samba\n</code></pre> <ul> <li>Un cop tenim samba instal\u00b7lat accedirem a un dels seus arxius de configuraci\u00f3. <code>smb.conf</code>. En aquest arxiu afegirem la nostra partici\u00f3 i la configurarem per l'usuari \"platano\" tal i com es mostra a continuaci\u00f3.</li> </ul> <pre><code>nano /etc/samba/smb.conf\n</code></pre> <ul> <li> <p>Per acabar amb la configuraci\u00f3 de l'arxiu i els canvis s'apliquin hem de reiniciar el sistema. </p> </li> <li> <p>Abans de procedir canviarem algunes opcions de permisos i propietats del grup, com es mostra a continuaci\u00f3. Tamb\u00e9 utilitzarem el nobody nogroup, aix\u00f2 es fa per assegurar que el servei no exposi accidentalment m\u00e9s del sistema del que est\u00e0 pensat.</p> </li> </ul> <p></p> <ul> <li>Per acabar, crearem l'usuari \"platano\" per al qual em configurat el servidor samba.</li> </ul> <p></p> <ul> <li>A continuaci\u00f3, desde la nostra m\u00e0quina (no virtual) visualitzarem els recursos compartits de la seg\u00fcent manera:</li> </ul> <p></p> <ul> <li>Per connectar-nos al servidor compartit ho farem a trav\u00e9s del navegador de fitxers, a l'apartat d'altres ubicacions i introduriem l'ardre\u00e7a corresponent.</li> </ul> <p> </p> <ul> <li>Com es pot veure a l'imatge, he creat un directori anomenat si, per comprovar que funciona la connexi\u00f3 amb els dos sentits, i que desde la m\u00e0quina virtual tamb\u00e9 pot veure el que ha fet platano. </li> </ul>"},{"location":"SPRINT2/3.-Sistemes-de-fitxers-i-particions/#ntfs","title":"ntfs","text":"<ul> <li> <p>En primer lloc consultarem l'estat del nostre disc amb la comanda <code>fdisk -l</code> per assegurar-nos de que encara tenim espai per un altra partici\u00f3. </p> </li> <li> <p>Ens queda encara 1G per seguir, per tant, farem els mateixos passos que abans. Menys en la part del muntatge. </p> </li> <li> <p>Per assegurar-nos que ho hem fet correctament podem tornar a fer un <code>fdisk -l</code> </p> </li> <li> <p>En aquest pas es on es troba la diferencia, formatarem la partici\u00f3 per amb un sistema de fitxers diferent.  </p> </li> <li> <p>Seguidament, farem els mateixos passos que a la particio1, creem un directori i dins un arixu hola. </p> </li> <li> <p>En aquest cas volem fer un muntatge definitiu, aix\u00ed que modificarem l'arxiu <code>fstab</code>. L'\u00fanica diferencia ser\u00e0 donar-li el format NTFS. Tamb\u00e9 afegirem el uid i gid amb nobody nogroup, tal i com hem fet amb l'ext4, amb la diferencia que aqu\u00ed ho apliquem directament al fstab per el format d'arxiu NTFS. </p> </li> <li> <p>Per continuar, assignarem al fitxer de configuraci\u00f3 de samba a l'usuario platano per a poder accedir al servidor, tal i com hem fet abans. </p> </li> <li> <p>Comprovem igual que hem fet abans desde el nostre client (fora de la maquina virtual) que veiem la partici\u00f3 creada.  </p> </li> <li> <p>Per \u00faltim creem un directori nou per fer-li proves.  </p> </li> <li> <p>Ara comprovarem si el nostre servidor samba tamb\u00e9 funciona amb un sistema operatiu windows, per fer-ho crearem una m\u00e0quina virtual windows 10, i entrarem desde el \"explorador d'archivos\" a l'apartat de xarxa i ens connectarem a una nova unitat de xarxa tal i com es mostra a continuaci\u00f3. </p> </li> <li> <p>Com es pot veure he seleccionat l'opci\u00f3 \"conectar con otras credenciales\", aix\u00f2 es per a que platano pugui entrar. </p> </li> <li> <p>Tamb\u00e9 podem veure la carpeta de proves que hem creat abans. </p> </li> <li> <p>Per comprovar si el funcionament es bidireccional crearem una altra carpeta de proves.  </p> </li> </ul>"},{"location":"SPRINT2/4.-C%C3%B2pies-de-seguretat-i-autmatitzaci%C3%B3-de-tasques/","title":"4. C\u00f2pies de seguretat i autmatitzaci\u00f3 de tasques","text":"<p>Copia de seguretat i automatitzaci\u00f3 de tasques Teoria Hi han tres tipus de copies: completes, diferencials, incrementals. Bona politica de copies, bona gesti\u00f3 dels tipus.</p> <p>Completa: Sempre que es pugui fer una copia completa, (buscar teoria, ventatga principal, desaventatge principal, i quina hem de recuperar).</p> <p>Diferencials: copia la diferencia de la completa, sempre de la \u00faltima, es m\u00e9s rapida. Pero per a recuperar-la sempre fan falta tant l'\u00faltima completa com l'\u00faltima diferencial, ocupa menys espai.</p> <p>Incremental: Copia la diferencia de la completa, despr\u00e9s per\u00f2 sol copia l'anterior incremental, hauries de recuperar totes les incrementals. Menys espai, per recuperar farira falta l'\u00faltima completa i totes les incrementals.</p> <p>Programes (sol 1 opci\u00f3) Deja-dup (opcional) Duplicity Comandes Explicaci\u00f3 i taula comparativa cp \u00c9s una copia simple no intel\u00b7ligent. Copia tot sense miraments sol funciona en local. rsync Es una copia intel\u00b7ligent sol copia els fitxers modificats, copies entre maquines utilitzant ssh. dd No es per fer copies de fitxers / arxius, sino a nivell particions i disc, es com una clonaci\u00f3. Treballa a nivell local i copia tot, no es intel\u00b7ligent. Tamb\u00e9 serveix per sobrescriure dades sector a sector, diferent a formatar, dona seguretat per no recuperar les dades previes, esborra tot a nivell de bloc. Automatitzaci\u00f3 amb scripts, cron i anacron Diferencies entre anacron i cron Cron:</p> <p>Funci\u00f3: Automatitza tasques espec\u00edfiques en moments precisos (hora, dia, mes, etc.). \u00das: \u00c9s \u00fatil quan vols que una tasca s'executi a una hora concreta, per exemple, cada dia a les 2:00 AM. Limitaci\u00f3: Nom\u00e9s funciona quan l'ordinador est\u00e0 enc\u00e8s; si est\u00e0 apagat en el moment programat, la tasca no s'executar\u00e0. Anacron:</p> <p>Funci\u00f3: Tamb\u00e9 automatitza tasques, per\u00f2 est\u00e0 dissenyat per a m\u00e0quines que no estan sempre enceses. \u00das: Ideal per a tasques de manteniment del sistema que no depenen de l'hora exacta, com actualitzacions peri\u00f2diques. Quan engeguem l'ordinador, anacron comprova si hi ha tasques pendents i les executa. Avantatge: Funciona b\u00e9 en ordinadors que es tanquen sovint, ja que no es perd cap tasca programada. Cron: Per tasques espec\u00edfiques per a un usuari o quan necessites precisi\u00f3 temporal (per exemple, backups diaris a una hora concreta).</p> <p>Anacron: Per tasques generals, com manteniment del sistema que no requereixen ser executades en un moment exacte.</p> <p>Configuraci\u00f3 de cron:</p> <p>Arxiu global: /etc/crontab per tasques que afecten tots els usuaris. Usuari espec\u00edfic: Utilitza crontab -e -u usuari per configurar tasques per a un usuari particular. Carpetes predeterminades: Dins de /etc/cron.daily/, /etc/cron.monthly/, i /etc/cron.annually/ per scripts que s'executin di\u00e0riament, mensualment o anualment, respectivament. Configuraci\u00f3 de anacron:</p> <p>Arxiu: /etc/anacrontab on es defineixen les tasques d'anacron. </p> <p>Exemple d'un script Per preparar un script primer crearem els directoris que volem copiar, que es troben dins del directori Imatges. </p> <p>En primer lloc crearem un script que crea una copia comprimida del directori /home/alumnat/Imatges/ i el desa a l'escriptori amb un nom que inclou la data i hora actuals. </p> <p>A continuaci\u00f3 dins del fitxer crontab, afegim la ruta del nostre script. Com es pot verue a la seg\u00fcent imatge li definim el minut hora i dia del mes, i amb un * a l'apartat dels dies per a que es faci cada dia. </p> <p>Per comprovar el seu funcionament esperem fins l'hora que em designat, com es veu a la seg\u00fcent imatge es crea l'arxiu comprimit, al descomprimir-lo podem veure que si ha fet la copia dels dos directoris que hi ha a la carpeta Imatges. </p> <p>A continuaci\u00f3 deixem la linea del crontab comentada. I seguidament del nostre escript li traurem el punt sh i el mourem a la carpeta de cron.daily.  </p> <p>Per assegurar que l'script s'executi al obrir l'ordinador, obrim el fitxer /var/spool/anacron/cron.daily, aqu\u00ed s'indica l'\u00faltima vegada que es van executar les tasques di\u00e0ries. En aquest cas ens interessa que no hi hagui res. </p> <p>Amb l'script al lloc de les tasques diaries i amb la comprovaci\u00f3 de que no s'han realitzat encara obrim /etc/anacrontab i el configurem tal i com es mostra a continuaci\u00f3. Posem que s'executin en 1 minut despr\u00e9s de l'arrencada del dispositiu. </p> <p>Un cop reiniciat l'ordinador esperem un minut i veurem que a l'escriptori apareix la copia del directori imatges, i si mirem el cron.daily veurem que s'ha executat la tasca diaria.  </p>"},{"location":"SPRINT2/5.-Quotes-de-disc/","title":"5. Quotes de disc","text":"<p>Quotes de disc Les quotes de disc s\u00f3n unes limitacions imposades a l'\u00fas d'emmagatzematge d'un sistema en aquest cas cas Ubuntu. \u00c9s poden limitar tant per usuaris com per grups, aix\u00f2 es fa per optimitzar l'espai i no fer un malbaratament d'espai. Les quotes es poden modificar en entorns de servidors o ordinadors multiusuari, i els limets pot ser tant de mida com de n\u00famero de fitxers.</p> <p>En aquest cas assignarem un disc nou de 5GB per fer proves, com hem vist en passos anteriors fem una partici\u00f3 nova amb tot l'espai del disc i format d'arxius ext4. </p> <p>Per configurar les quotes de disc haurem d'instal\u00b7lar quota.</p> <p>sudo apt update</p> <p>sudo apt install quota  Per fer les proves crearem una carpeta \"dades\"</p> <p></p> <p>En aquest punt ens interessar\u00e0 fer un muntatge permanent i posar les quotes a l'arxiu fstab. Aplicarem quotes d'usuari i de grup. </p> <p>A continuaci\u00f3, farem un reinici del sistema i comprovarem el muntatge i afegirem els fitxers de les quotes d'usuari i de grup, i tamb\u00e9 les activarem. Per provar les quotes assignarem un usuari nou anomenat usuari5. Finalment amb un ls comprovarem que els canvis s'hagin aplicat.</p> <p>quotacheck -cug /mnt/dades</p> <p>quotaon /mnt/dades  Per veure les quotes assignades a l'usuari5 podem comprovar-ho de la seg\u00fcent forma. </p> <p>Com podem veure encara no te cap quota assignada, per fer-ho podem utilitzar la seg\u00fcent comanda.</p> <p>edquota -u usuari5   L'arxiu que modificarem cont\u00e9 aquests parametres: Filesystem (/dev/sdc1): Aquest \u00e9s el sistema de fitxers o partici\u00f3 del disc on s'apliquen les quotes.</p> <p>blocks: Representa l'espai en disc actualment utilitzat per l'usuari en blocs.</p> <p>soft: 1024 \u00e9s el l\u00edmit \"soft\" d'espai en blocs que l'usuari pot utilitzar. Aquest l\u00edmit pot ser excedit temporalment, per\u00f2 es recomana no sobrepassar-lo.</p> <p>hard: 2048 \u00e9s el l\u00edmit \"hard\" d'espai en blocs. Aquest l\u00edmit no es pot excedir. Si l'usuari intenta utilitzar m\u00e9s espai del que li correspon per aquest l\u00edmit, no podr\u00e0 guardar m\u00e9s dades.</p> <p>inodes:Representa el nombre d'inodes (estructures de dades que representen fitxers) actualment utilitzats per l'usuari.</p> <p>soft: \u00c9s el l\u00edmit \"soft\" per al nombre d'inodes. No est\u00e0 establert en aquest cas, indicant que no hi ha l\u00edmit soft per al nombre de fitxers.</p> <p>hard: \u00c9s el l\u00edmit \"hard\" per al nombre d'inodes. Com amb el l\u00edmit soft, no est\u00e0 establert.</p> <p>Seguidament accedirem a l'usuari 5 i modificarem els permisos tamb\u00e9 afegirem una comanda on pasar\u00e0 el seg\u00fcent: dd: Es crea un fitxer anomenat test amb dades de /dev/zero de 800 KiB (bs=1K count=800).</p> <p>dd if=/dev/zero of=test bs=1K count=800 - Per veure un informe detallat del disc i les seves quotes utilitzarem la seg\u00fcent comanmda:</p> <p>repquota /dev/sdc1  Continuant amb les proves generarem un altre arxiu test per comprovar que passa si superem la cantitat d'emmagatzematge assignada.  </p> <p>s'ha execedit la quota de disc Una vegada mes podem utilitzar la comanda quota -u usuari5 per comprovar els seg\u00fcents parametres.</p> <p>Per acabar tamb\u00e9 podem modificar els dies de gr\u00e0cia per defecte.</p> <p>edquota -t  Per \u00faltim comprovarem de forma gr\u00e0fica que passa si superem el l\u00edmit de la quota. Per fer-ho descarregarem una foto d'internet i passa el seg\u00fcent. </p>"},{"location":"SPRINT3/","title":"Index","text":"<p>INDEX</p>"},{"location":"SPRINT3/#1-installacio-domini-ldap","title":"1. Instal\u00b7laci\u00f3 domini LDAP","text":""},{"location":"SPRINT3/#2-gestio-del-domini","title":"2. Gesti\u00f3 del domini","text":""},{"location":"SPRINT3/#3-entorns-grafics","title":"3. Entorns Grafics","text":""},{"location":"SPRINT3/#4-unir-equips-al-domini","title":"4. Unir equips al domini","text":""},{"location":"SPRINT3/#5-servidor-samba","title":"5. Servidor Samba","text":""},{"location":"SPRINT3/#6-servidor-nfs","title":"6. Servidor NFS","text":""},{"location":"SPRINT3/1.Instalacio_domini_LDAP/","title":"1.Instalacio domini LDAP","text":"<p>Instal\u00b7laci\u00f3 domini LDAP</p> <p>Un domini LDAP (Lightweight Directory Access Protocol) \u00e9s una estructura organitzativa jer\u00e0rquica utilitzada per administrar i gestionar informaci\u00f3 sobre usuaris, grups, recursos i altres elements dins d\u2019una xarxa. Actua com un repositori centralitzat per a l\u2019autenticaci\u00f3 i el control d\u2019acc\u00e9s, permetent que diferents sistemes i aplicacions comparteixin informaci\u00f3 sobre usuaris i permisos.</p> <p>Dins d\u2019un directori LDAP, les Unitats Organitzatives (UO) serveixen com a contenidors per estructurar usuaris, grups i altres objectes de manera m\u00e9s ordenada. Aquestes UO permeten una administraci\u00f3 m\u00e9s eficient, ja que poden agrupar-se segons criteris com departaments, ubicacions o rols dins de l\u2019organitzaci\u00f3.</p> <p>Per posar en marxa un domini LDAP, seguirem els passos seg\u00fcents:</p> <p>Configuraci\u00f3 inicial</p> <p>El primer que cal fer \u00e9s comprovar la IP del servidor. En aquest cas, la configurarem manualment i verificarem la seva connectivitat fent un ping.</p> <p>  A continuaci\u00f3, modificarem el nom de la m\u00e0quina host. Per fer-ho, editarem el fitxer etc/hostname i tamb\u00e9 farem els canvis corresponents al fitxer etc/hosts.   </p> <p>Instal\u00b7laci\u00f3 del servei LDAP</p> <p>Si no tenim instal\u00b7lat el paquet slapd, el descarregarem i executarem. Pot ser que durant la configuraci\u00f3 apareguin alguns errors. En cas que sigui aix\u00ed, podem tornar a reconfigurar el paquet utilitzant la seg\u00fcent comanda:</p> <p>Instal\u00b7laci\u00f3 de slapd</p> <p> dpkg-reconfigure slapd  Quan s\u2019executa la reconfiguraci\u00f3, apareix un men\u00fa de configuraci\u00f3 en qu\u00e8 haurem d\u2019introduir diferents valors. \u00c9s important eliminar la base de dades pr\u00e8via per evitar problemes.   Durant aquest proc\u00e9s, establirem una contrasenya i definirem els noms de domini necessaris.</p> <p>Configuraci\u00f3 de les Unitats Organitzatives, grups i usuaris</p> <p>Ara definirem les UO, grups i usuaris dins del directori LDAP. \u00c9s essencial verificar que els noms de domini coincideixin amb els configurats anteriorment per evitar errors.</p> <p></p> <p>Com es pot apreciar els valors coincideixen amb els de la configuraci\u00f3 pr\u00e8via. Per continuar ara configurarem les \"ou\", grups i usuaris tal i com es mostra, tamb\u00e9 es veur\u00e0 com aplicar els canvis al LDAP. Es important que als arxius es tingui en compte els noms de domini que hem configurat ja que podria ser una font d'errors. Creaci\u00f3 de les UO</p> <p>Editem l\u2019arxiu ou.ldif per afegir les unitats organitzatives:  Especificarem els grups dins de l\u2019arxiu group.ldif  Afegirem els usuaris al fitxer usu.ldif:  Com que aquests fitxers han estat creats manualment, hem d\u2019afegir-los al servidor LDAP amb la seg\u00fcent comanda:</p> <p> </p> <p>Per comprovar que els canvis s\u2019han aplicat correctament, tornem a utilitzar la comanda slapcat:</p> <p></p> <p>Instal\u00b7laci\u00f3 del domini LDAP en un servidor Ubuntu Server A l'apartat anterior hem detallat com configurar un domini LDAP en una m\u00e0quina Ubuntu amb interf\u00edcie gr\u00e0fica. En aquesta secci\u00f3, explicarem com dur a terme la instal\u00b7laci\u00f3 directament en un servidor Ubuntu sense interf\u00edcie gr\u00e0fica. Seguirem els mateixos passos fins a la configuraci\u00f3 dels paquets, moment en qu\u00e8 destacarem les difer\u00e8ncies d\u2019aquest proc\u00e9s sense entorn gr\u00e0fic.</p> <p>El primer pas consisteix a configurar la xarxa del servidor. Per fer-ho, hem de modificar un fitxer de Netplan on ajustarem la nostra adre\u00e7a IP.</p> <p>sudo nano /etc/netplan/50-cloud-init.yaml  Un cop realitzats els canvis, cal aplicar la configuraci\u00f3 i verificar que s\u2019ha aplicat correctament.  Despr\u00e9s de configurar la xarxa, cal modificar els fitxers de hosts i hostname ubicats al directori /etc/.   Finalment, procedim a la instal\u00b7laci\u00f3 del paquet LDAP. A partir d\u2019aquest punt, seguirem els mateixos passos descrits anteriorment, ja que el procediment \u00e9s id\u00e8ntic.</p> <p>apt install slapd ldap-utils </p>"},{"location":"SPRINT3/2.Gestio_del_domini_mitjan%C3%A7ant_comandes/","title":"2.Gestio del domini mitjan\u00e7ant comandes","text":"<p>Gesti\u00f3 del domini Per estructurar l'organitzaci\u00f3 i comen\u00e7ar a gestionar usuaris, hi ha dues opcions principals: treballar amb fitxers LDIF o utilitzar comandes directament. En aquest apartat, ens centrarem en l'\u00fas de comandes essencials com search, add, modify i delete.</p> <p>Abans de comen\u00e7ar, comprovarem que el domini s'ha creat correctament i despr\u00e9s revisarem els fitxers preparats a l'escriptori que contenen informaci\u00f3 sobre els usuaris.</p> <p> ldapadd Tal com es pot observar, el fitxer inclou diverses dades d'usuaris que volem incorporar al sistema. Ho farem utilitzant la comanda ldapadd.</p> <p>Per registrar els usuaris definits en el fitxer LDIF, executarem la comanda seg\u00fcent:</p> <p>ldapadd -x -D \"cn=admin,dc=edgar,dc=cat\" -w -f dades.ldif  Seguidament el que farem sera crear un nou usuari a a mode de prova, mitjan\u00e7ant un fitxer .ldif, el primer que farem ser\u00e0 crear el fitxer:</p> <p></p> <p>I seguidament afegim el usuari creat amb la seg\u00fcent ordre: </p> <p>ldapsearch Un cop els usuaris s'han creat correctament, podem verificar-ne l'exist\u00e8ncia amb la comanda ldapsearch:</p> <p>Finalment, realitzem una verificaci\u00f3 amb la comanda ldapsearch per assegurar-nos que l'usuari s'ha creat correctament:</p> <p>ldapsearch -xLLL -b \"uid=edgar1,ou=People,dc=edgar,dc=com\"</p> <p></p> <p>Tambe\u00e9 afegirem wc -l per fer un recompte de l\u00ednies, ja que no volem que aparegui tot el text a la sortida.</p> <p></p> <p>Comprovacio de les unitats organitzatives</p> <p>Farem una busqueda que ens fara trobar les unitats organitzatives del domini.</p> <p>ldapsearch -xLLL -b \"dc=edgar,dc=com\" objectClass=organizationalUnit</p> <p></p> <p>Comprovaci\u00f3 de Grups Per a comprovar el grups que tenim dintre de la UO Groups, executarem la seg\u00fcent comanda:</p> <p>ldapsearch -xLLL -b \"dc=edgar,dc=com\" \"(ou=Groups)\" dn</p> <p></p> <p>Creaci\u00f3 d'una nova UO Per crear una nova Unitat Organitzativa (UO) anomenada \"asix\", necessitem preparar un fitxer .ldif amb la configuraci\u00f3 de la nova UO. Un exemple del contingut del fitxer seria el seg\u00fcent:</p> <p>dn: ou=asix,dc=edgar,dc=com objectClass: top objectClass: organizationalUnit ou: asix</p> <p></p> <p>Seguit d'aixo fem un ldapadd per a afegir la UO al domini:</p> <p></p> <p>Cuan ja hem completat la creaci\u00f3 i l'hem afegit, comprovarem que estigui correctament afegida amb la seg\u00fcent comanda:</p> <p>ldapsearch -xLLL -b \"dc=edgar,dc=com\" objectClass=organizationalUnit uo</p> <p></p> <p>ldapdelete</p> <p>Hi ha dues maneres de fer esborrats en un domini LDAP: utilitzar la comanda ldapdelete o utilitzar un fitxer .ldif amb ldapmodify.</p> <p>Esborrar atributs d\u2019un usuari amb ldapmodify Per esborrar atributs d\u2019un usuari, primer necessitem crear un fitxer .ldif amb les modificacions que volem aplicar. En aquest cas, esborrarem l\u2019atribut roomNumber de l\u2019usuari ejohnson.</p> <p></p> <p>Per a acabar el que farem sera fer un ldapsearch per a comprovar que l'atribut roomNumber si s'hagui esborrat ldapsearch -xLLL -b \"uid=ejohnson,ou=People,dc=edgar,dc=com\"</p> <p></p> <p>Esborrar una entrada amb ldapdelete Podem utilitzar la comanda ldapdelete per eliminar directament una entrada del domini. Per exemple, per esborrar una unitat organitzativa anomenada \"prova\":</p> <p>ldapdelete -x -D \"cn=admin,dc=edgar,dc=com\" -W \"ou=prova,dc=edgar,dc=com\"</p> <p></p> <p>Esborrar una entrada amb un fitxer .ldif i ldapmodify Tamb\u00e9 podem crear un fitxer .ldif amb les instruccions d'esborrat. Exemple del contingut del fitxer .ldif:</p> <p></p> <p>dn: ou=prova,dc=edgar,dc=com  changetype: delete Despr\u00e9s, executem la comanda seg\u00fcent per aplicar l'esborrat:</p> <p>ldapmodify -x -D \"cn=admin,dc=edgar,dc=com\" -W -f dades.ldif</p> <p></p> <p>Ara passarem a fer mes comprovacions, en aquest cas modificacions, el que farem sera afegir un mail i rempla\u00e7ar el numero de telefon a l'usuari edgar1</p> <p></p>"},{"location":"SPRINT3/3.Entorns_Grafics/","title":"3.Entorns Grafics","text":"<p>Entorns gr\u00e0fics</p> <p>En aquest apartat explicarem com configurar un servidor LDAP utilitzant una interf\u00edcie gr\u00e0fica. Per a aix\u00f2, farem servir Apache Directory Studio, ja que \u00e9s una eina intu\u00eftiva i f\u00e0cil d'utilitzar.</p> <p>Apache Directory Studio</p> <p>El primer pas \u00e9s descarregar l'aplicaci\u00f3 des de la seva p\u00e0gina oficial. Un cop descarregada, nom\u00e9s cal descomprimir el paquet i executar-lo.</p> <p></p> <p>Un cop dins del programa, buscarem la connexi\u00f3 LDAP i iniciarem sessi\u00f3 amb les nostres credencials. A continuaci\u00f3, procedirem a afegir noves entrades, que poden ser creades des de zero o utilitzant plantilles. En aquest exemple, optem per crear una entrada nova fent servir una plantilla per a un usuari. Aix\u00ed mateix, comprovarem que els usuaris creats pr\u00e8viament ja formen part de l'estructura.</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Despr\u00e9s d'afegir i verificar que la nova entrada s'ha creat correctament, incorporarem una altra entrada al nostre domini.</p> <p></p> <p>A continuaci\u00f3, afegirem les classes d'objectes corresponents a l'entrada agregada.</p> <p></p> <p>Finalment, definirem els atributs necessaris perqu\u00e8 l'usuari pugui ser utilitzat correctament dins del sistema.</p> <p></p> <p>Un cop fet aix\u00f2, comprovarem que la creaci\u00f3 s'ha realitzat amb \u00e8xit.</p> <p></p> <p>En aquest exemple, s'ha escollit la carpeta compartida de perfils per establir la seva directori home. A m\u00e9s, s'ha assignat una contrasenya i s'ha configurat el loginshell com a /bin/bash.</p> <p></p> <p>Per accedir amb el client fent servir el nou usuari, cal seleccionar l'opci\u00f3 de \"no esteu llistat\", introduir les credencials i confirmar la creaci\u00f3 del directori home en la ubicaci\u00f3 designada. Despr\u00e9s, podrem iniciar sessi\u00f3 i verificar que s'ha accedit amb l'usuari correcte.</p>"},{"location":"SPRINT3/4.Unir_equips_al_domini/","title":"4.Unir equips al domini","text":"<p>Unir equips al domini Per connectar un client al domini LDAP, primer instal\u00b7larem el paquet necessari::</p> <p>apt install libnss-ldap libpam-ldap nscd  Durant la instal\u00b7laci\u00f3, apareixer\u00e0 un assistent de configuraci\u00f3 on haurem d'introduir la IP del servidor LDAP.   Despr\u00e9s, completarem la configuraci\u00f3 indicant els noms de domini definits pr\u00e8viament.  </p> <p>Despr\u00e9s d'haver configurat el paquet, el seg\u00fcent pas consisteix a modificar certs par\u00e0metres del client per garantir que es prioritzi la detecci\u00f3 del servidor LDAP. Per aconseguir-ho, haurem d'editar el fitxer etc/nsswitch.conf. </p> <p>D'aquesta manera, ens assegurem que el sistema revisi primer els usuaris emmagatzemats al directori LDAP abans de consultar altres fonts. Concretament, estem indicant que es comprovin els fitxers relacionats amb usuaris, grups i contrasenyes.</p> <p>Tamb\u00e9 ajustarem etc/pam.d/common-session perqu\u00e8 es cre\u00efn autom\u00e0ticament els directoris d\u2019usuari: </p> <p>Aquest canvi far\u00e0 que quan un usuari inicia sessi\u00f3 i no t\u00e9 un directori principal, se li crea autom\u00e0ticament un nou directori principal amb el contingut de /etc/skel i amb els permisos especificats per umask=022.</p> <p>Per acabar de configurar el client, tamb\u00e9 ajustarem l'entorn d'autenticaci\u00f3 per permetre als usuaris iniciar sessi\u00f3 manualment.  </p> <p>Amb aquesta configuraci\u00f3, el gestor de pantalla mostrar\u00e0 una opci\u00f3 perqu\u00e8 els usuaris introdueixin el seu nom d'usuari de manera manual, en lloc d'haver de seleccionar-lo d'una llista. Aquesta funcionalitat \u00e9s especialment \u00fatil en sistemes amb un gran nombre d'usuaris o en entorns on es necessita m\u00e9s flexibilitat en l'acc\u00e9s.</p> <p></p>"},{"location":"SPRINT3/5.Servidor_Samba/","title":"5.Servidor Samba","text":"<p>Servidor Samba</p> <p>Samba \u00e9s una implementaci\u00f3 de codi obert del protocol SMB/CIFS, que facilita la compartici\u00f3 de fitxers i impressores entre sistemes Windows i Linux. A m\u00e9s, Samba permet l'autenticaci\u00f3 d'usuaris tant localment com mitjan\u00e7ant un servidor LDAP, cosa que facilita una gesti\u00f3 centralitzada d'usuaris i permisos.</p> <p>Instal\u00b7laci\u00f3 i conf server</p> <p>Primer de tot, actualitzem el sistema i despr\u00e9s instal\u00b7lem el paquet de Samba: apt install samba</p> <p></p> <p>Un cop instal\u00b7lat, creem una carpeta a l'arrel del sistema i li assignem els permisos adequats.</p> <p></p> <p>A continuaci\u00f3, editem el fitxer de configuraci\u00f3 de Samba situat a /etc/samba/smb.conf. En aquest arxiu, especifiquem la ruta de la carpeta que volem compartir i configurem els permisos i rols per als usuaris i grups. En aquest cas, afegirem usuaris al grup colors amb diferents nivells de permisos: un amb acc\u00e9s complet, un amb nom\u00e9s lectura i un sense cap perm\u00eds.</p> <p></p> <p>Cada vegada que modifiquem la configuraci\u00f3, cal reiniciar el servei per aplicar els canvis amb la comanda seg\u00fcent:</p> <p></p> <p>Ara crearem els usuaris. Utilitzarem una comanda que impedeix que inici\u00efn sessi\u00f3 i que estableix /bin/bash com a int\u00e8rpret d'ordres.</p> <p></p> <p>Seguirem el mateix procediment per crear els altres usuaris i el grup. En aquest exemple, podem veure que l'usuari blau no est\u00e0 dins del grup.</p> <p></p> <p>Per verificar que s'han creat correctament els usuaris i grups, consultarem els fitxers /etc/group i /etc/passwd.</p> <p></p> <p>Finalment, ajustarem els permisos: bloquejarem l'acc\u00e9s a l'usuari roig, permetrem nom\u00e9s lectura als membres del grup colors, i donarem a blau permisos complets. Tamb\u00e9 habilitarem l'acc\u00e9s com a convidat.</p> <p></p> <p>Instal\u00b7laci\u00f3 i proves client</p> <p>Per configurar el client, seguim un proc\u00e9s similar: actualitzem el sistema i instal\u00b7lem el paquet de Samba.</p> <p></p> <p>Un cop instal\u00b7lat, obrim l'explorador de fitxers i, a la secci\u00f3 d'Altres ubicacions, introdu\u00efm l'adre\u00e7a del servidor Samba.</p> <p></p> <p>El primer que veurem \u00e9s l'opci\u00f3 de connectar-nos com a convidat o com a usuari registrat. Farem primer una prova amb un usuari convidat.</p> <p> </p> <p>(ATENCI\u00d3: Aquesta part es fa al servidor) Per assegurar-nos que podem escriure, eliminem l'opci\u00f3 de read only. Despr\u00e9s de fer els canvis, reiniciem el servei.</p> <p> </p> <p>Un cop configurat el servidor, tornem al client i provem els accessos. Ens connectem a la carpeta compartida mitjan\u00e7ant l'explorador de fitxers i l'opci\u00f3 d'Altres ubicacions, i primer accedim com a convidat per comprovar si podem crear un directori.</p> <p></p> <p>A continuaci\u00f3, farem la mateixa prova amb l'usuari blau, que t\u00e9 permisos complets. Introdu\u00efm les credencials i creem un nou directori.</p> <p> </p> <p>Per confirmar que els permisos s\u00f3n correctes, al servidor executem ls -l dins de la carpeta compartida.</p> <p></p> <p>Un cop verificat el funcionament, provem amb la resta d'usuaris. Si intentem accedir amb roig, que no t\u00e9 permisos, el sistema ens retornar\u00e0 a la pantalla d'inici de sessi\u00f3.</p> <p></p> <p>Finalment, provem amb l'usuari groc i intentem crear un directori. Com que no t\u00e9 permisos d'escriptura, es generar\u00e0 un error.</p> <p> </p>"},{"location":"SPRINT3/6.Servidor_NFS/","title":"6.Servidor NFS","text":"<p>Servidors NFS El Network File System (NFS) \u00e9s un protocol que permet compartir fitxers i directoris a trav\u00e9s d\u2019una xarxa, facilitant l\u2019acc\u00e9s centralitzat als recursos. Amb NFS, un servidor pot exportar directoris, i els clients poden muntar-los com si fossin locals, cosa que el fa ideal per a entorns col\u00b7laboratius o sistemes distribu\u00efts on diversos dispositius necessiten accedir als mateixos fitxers.</p> <p>Una caracter\u00edstica clau d\u2019aquest protocol \u00e9s que l'autenticaci\u00f3 es realitza a nivell de m\u00e0quina, no d\u2019usuari. Aix\u00f2 significa que el servidor NFS confia en els dispositius clients autoritzats per accedir als directoris compartits. A m\u00e9s, combinant NFS amb LDAP, \u00e9s possible centralitzar els directoris personals dels usuaris i muntar-los autom\u00e0ticament en qualsevol dispositiu de la xarxa, proporcionant una experi\u00e8ncia homog\u00e8nia independentment de l\u2019equip utilitzat.</p> <p>Instal\u00b7laci\u00f3 part server</p> <p>Comencem configurant la part del servidor en un sistema Linux. Instal\u00b7larem el paquet necessari:</p> <p>apt install nfs-kernel-server </p> <p>Un cop instal\u00b7lat, verifiquem que el servei s\u2019ha iniciat correctament:</p> <p>systemctl status nfs-server</p> <p></p> <p>Si el servei est\u00e0 en funcionament sense errors, el servidor NFS ja est\u00e0 llest per a ser configurat.</p> <p>Instal\u00b7laci\u00f3 part client Ubuntu</p> <p>Ara configurarem un client NFS en una m\u00e0quina Ubuntu. Instal\u00b7lem els paquets necessaris per connectar-nos al servidor:</p> <p>apt install nfs-common rpcbind</p> <p></p> <p>Amb aix\u00f2, el sistema estar\u00e0 preparat per muntar directoris compartits mitjan\u00e7ant NFS.</p> <p>Instal\u00b7laci\u00f3 part client Windows Per connectar un equip Windows a un servidor NFS, cal activar una funcionalitat espec\u00edfica dins del sistema operatiu.</p> <p>Procedim seguint aquests passos:</p> <p>Obrim el Panell de Control. Accedim a Programes i Caracter\u00edstiques. A l'esquerra, fem clic a Activar o desactivar les caracter\u00edstiques de Windows. Activem les opcions relacionades amb NFS.</p> <p> Un cop fet aix\u00f2, Windows ja estar\u00e0 preparat per muntar unitats NFS i accedir als recursos compartits.</p> <p>Utilitzar el servidor NFS</p> <p>Per comen\u00e7ar a utilitzar el servidor NFS, primer creem un directori al servidor i li assignem els permisos adequats.</p> <p></p> <p>A continuaci\u00f3, editem el fitxer /etc/exports per afegir la ruta de la carpeta compartida i els par\u00e0metres seg\u00fcents:</p> <ul> <li>\u2192 Permet l'acc\u00e9s a tots els clients. rw \u2192 Concedeix permisos de lectura i escriptura (read-write). sync \u2192 Garanteix que les operacions d\u2019escriptura es completen abans de respondre al client. no_subtree_check \u2192 Millora el rendiment evitant la verificaci\u00f3 de subdirectoris.</li> </ul> <p></p> <p>Despr\u00e9s de realitzar aquests canvis, reiniciem el servei per aplicar-los. A m\u00e9s, creem un fitxer de prova dins la carpeta compartida per verificar-ne el funcionament.</p> <p></p> <p>Ara provem l'acc\u00e9s des d\u2019un client Windows. Obrim l'explorador de fitxers, anem a Altres ubicacions i introdu\u00efm l\u2019adre\u00e7a del servidor per connectar-nos.</p> <p></p> <p>Per comprovar que tot funciona correctament, testejarem els permisos creant un document de text dins la carpeta compartida.</p> <p> </p> <p>A continuaci\u00f3, comprovem des del servidor que els canvis s'han aplicat correctament i verifiquem els permisos assignats.</p> <p></p> <p>Ara accedim des d\u2019un client Ubuntu. Primer, creem la carpeta compartida amb els permisos corresponents.</p> <p></p> <p>Finalment, verifiquem els permisos i comprovem que els fitxers es mantenen a la carpeta compartida de manera \u00edntegra. A m\u00e9s, creem un nou fitxer des del client per confirmar que el sistema funciona com cal.</p> <p></p>"},{"location":"SPRINT4/","title":"Index","text":"<p>INDEX</p>"},{"location":"SPRINT4/#1-raid","title":"1. Raid","text":""},{"location":"SPRINT4/#2raid-1","title":"2.Raid 1","text":""},{"location":"SPRINT4/#3-raid-5","title":"3. Raid 5","text":""},{"location":"SPRINT4/1.RAID/","title":"1.RAID","text":"<p>Documentaci\u00f3 RAID</p> <p>Introducci\u00f3 als RAID</p> <p>Els RAID (Redundant Array of Independent Disks) s\u00f3n t\u00e8cniques que combinen diversos discs f\u00edsics per crear un sistema d'emmagatzematge unificat, millorant el rendiment i/o la seguretat de les dades segons el nivell utilitzat.</p> <p>Avui en dia tamb\u00e9 existeixen solucions que, tot i no ser RAID en el sentit tradicional, ofereixen funcions similars de redund\u00e0ncia i toler\u00e0ncia a fallades. Un exemple d'aix\u00f2 \u00e9s CEPH, un sistema d'emmagatzematge distribu\u00eft que proporciona redund\u00e0ncia avan\u00e7ada, auto balanceig i alta escalabilitat.</p> <p>Nivells RAID m\u00e9s comuns</p> <p>Nivells RAID RAID 0: Avui en dia es considera obsolet. Consisteix en dividir les dades i distribuir-les entre discs sense redundancia. El nivell de seguretat es pr\u00e0cticament nul, ja que pots perdre les dades f\u00e0cilment.</p> <p></p> <p>RAID 1: Funciona amb el metode \"espill\" que consisteix en fer una copia exacta de les dades en un altre disc, aix\u00f2 ens dona redundancia (es com un copia de seguretat en temps real).</p> <p></p> <p>RAID 5: Utilitza com a minim tres discs, tot i que tamb\u00e9 es pot fer amb quatre. El sistema d'emmagatzematge reparteix l'informaci\u00f3 entre tots els discs menys a un que es l'utilitzat per la paritat, en cas de fallar un disc pots recuperar l'informaci\u00f3.</p> <p></p> <p>RAID 6: El funcionament es exactament igual que l'anterior, la diferencia principal es que la paritat es guarda en dos</p> <p></p> <p>RAID 10 Combina duplicaci\u00f3 (RAID 1) i distribuci\u00f3 (RAID 0) es de molt alt rendiment i en el tema seguretat te un cost elevat per la necessitat de m\u00e9s discs</p> <p></p> <p>ZFS: Sistema d'arxius amb funcions RAID</p> <p>ZFS \u00e9s un sistema d'arxius combinat amb gestor de volums desenvolupat per Sun Microsystems (ara Oracle). Entre les seves caracter\u00edstiques destaca:</p> <p>Integritat de dades: Utilitza sumes de verificaci\u00f3 i t\u00e9 capacitat d'auto reparaci\u00f3.</p> <p>Snapshots i clonaci\u00f3: Permet fer c\u00f2pies de seguretat i recuperar dades f\u00e0cilment.</p> <p>Compresi\u00f3 i deduplicaci\u00f3: Optimitza l'\u00fas de l'espai. Pooled storage: Facilita una gesti\u00f3 flexible dels discos. ZFS integra els seus esquemes de redund\u00e0ncia, coneguts com a RAID-Z, que s\u00f3n funcionalment equivalents als RAID tradicionals per\u00f2 amb millores en rendiment, fiabilitat i simplicitat de gesti\u00f3.</p> <p>Soluci\u00f3 d'emmagatzematge distribu\u00eft: CEPH CEPH \u00e9s un sistema d'emmagatzematge distribu\u00eft que va m\u00e9s enll\u00e0 del concepte tradicional de RAID. Les seves principals caracter\u00edstiques s\u00f3n:</p> <p>Redund\u00e0ncia avan\u00e7ada: Utilitza replicaci\u00f3 i erasure coding per garantir la disponibilitat de les dades.</p> <p>Auto balanceig: Redistribueix autom\u00e0ticament la c\u00e0rrega entre nodes per optimitzar el rendiment.</p> <p>Escalabilitat: Permet ampliar la capacitat d'emmagatzematge afegint m\u00e9s nodes sense parades.</p> <p>Tot i que CEPH opera a un nivell diferent (distribu\u00eft i basat en programari), comparteix amb els RAID l'objectiu de protegir i optimitzar l'emmagatzematge de dades.</p> <p>Aspectes clau en la configuraci\u00f3 de RAID Uniformitat dels discs i particions:</p> <p>Es recomana utilitzar discs o particions de la mateixa marca i capacitat per obtenir una configuraci\u00f3 \u00f2ptima.</p> <p>Planificaci\u00f3 de la configuraci\u00f3: Cal preparar correctament els discs, configurar el nivell RAID desitjat i, finalment, automatitzar el muntatge per facilitar l'acc\u00e9s a les dades.</p>"},{"location":"SPRINT4/2.RAID-1/","title":"2.RAID 1","text":"<p>Configuraci\u00f3 de RAID 1</p> <p>Aquest document descriu el proc\u00e9s per configurar un RAID 1 utilitzant dos discs d'1GB. RAID 1 duplica les dades entre els discs, oferint redund\u00e0ncia i protecci\u00f3 en cas de fallada d'algun d'ells.</p> <p>Preparaci\u00f3 dels Discs</p> <p>Neteja dels discs: Assegureu-vos que els discs estan nets o que les dades que contenen es poden esborrar.</p> <p>Creaci\u00f3 de particions:</p> <p>Quan creeu les particions, recordeu d'especificar l'opci\u00f3 \"t\" per definir el tipus de partici\u00f3 i \"fd\" per indicar que \u00e9s de tipus Linux RAID autodetectable.</p> <p></p> <p>Format de disc</p> <p>Instal\u00b7laci\u00f3 de l'eina de gesti\u00f3: Instal\u00b7leu mdadm (l'eina que us permetr\u00e0 configurar el RAID).</p> <p>sudo apt install mdadm </p> <p>![09](IMAGES/mddadm.png</p> <p>Creaci\u00f3 del directori de muntatge: Creeu un directori on muntareu el RAID (per exemple, /mnt/raid1) i, temporalment, configureu permisos 777 per facilitar la prova.</p> <p></p> <p>Creaci\u00f3 del Dispositiu RAID 1 Creaci\u00f3 del RAID: Utilitzeu mdadm per crear un dispositiu RAID 1 que agrupi les particions dels dos discs (per exemple, /dev/sda1 i /dev/sdb1) en un dispositiu com /dev/md0.</p> <p>sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda1 /dev/sdb1</p> <p></p> <p>Verificaci\u00f3 de l'estat del RAID: Comproveu que el RAID s'est\u00e0 creant correctament. Podeu veure l'estat amb la comanda que mostra informaci\u00f3 detallada (per exemple, consultat a /proc/mdstat o amb \"mdadm --detail /dev/md0\").</p> <p></p> <p>Generaci\u00f3 i actualitzaci\u00f3 de la configuraci\u00f3 de mdadm: Executeu la comanda per escanejar la configuraci\u00f3 actual del RAID i guardar-la al fitxer de configuraci\u00f3 (per exemple, \"mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf\").</p> <p></p> <p>Verificaci\u00f3 i edici\u00f3 del fitxer de configuraci\u00f3: Obriu el fitxer /etc/mdadm/mdadm.conf amb un editor (per exemple, \"nano /etc/mdadm/mdadm.conf\") per confirmar que la configuraci\u00f3 s'ha desat correctament i, si cal, afegiu una nova l\u00ednia o ajustos addicionals.</p> <p></p> <p>Formataci\u00f3 i Muntatge del Dispositiu RAID</p> <p>Formataci\u00f3: Un cop creat i sincronitzat el dispositiu RAID (/dev/md0), formatgeu-lo amb el sistema d'arxius que preferiu (per exemple, ext4).</p> <p></p> <p>Configuraci\u00f3 de muntatge autom\u00e0tic:</p> <p>Afegiu una entrada al fitxer /etc/fstab perqu\u00e8 el dispositiu RAID es munte autom\u00e0ticament en arrencar el sistema. Configuraci\u00f3 del fstab</p> <p>Muntatge i actualitzaci\u00f3 del sistema: Executeu les ordres necess\u00e0ries per muntar el dispositiu RAID, reiniciar el daemon corresponent i actualitzar la configuraci\u00f3 d'arrencada del sistema amb una comanda com \"update-initramfs -u -k all\".</p> <p></p> <p>Muntatge i actualitzaci\u00f3</p> <p>Comprovaci\u00f3 del funcionament En aquest apartat comprovarem que el RAID creat funciona correctament.</p> <p>Comencem creant un fitxer \"prova.txt\" per fer una prova b\u00e0sica.</p> <p></p> <p>A continuaci\u00f3, desconnectem un disc del RAID amb la comanda mdadm /dev/md0 -f /dev/sdb1.</p> <p>mdadm /dev/md0 -f /dev/sdb1</p> <p></p> <p>Verifiquem l'estat del RAID amb mdadm --detail /dev/md0. La sortida mostra que el disc /dev/sdb1 es troba en estat \"faulty\".</p> <p></p> <p>Procedim a treure el disc defectu\u00f3s amb mdadm /dev/md0 --remove /dev/sdb1 i verifiquem la configuraci\u00f3 amb la mateixa comanda.</p> <p>mdadm /dev/md0 --remove /dev/sdb1</p> <p></p> <p>Per confirmar qu\u00e8 ha passat amb les nostres dades, fem un ls al directori del RAID (per exemple, /raid1/). Comprovem que les dades no s'han esborrat, gr\u00e0cies al RAID 1 que replica tot.</p> <p></p> <p>Finalment, reinserim el disc amb mdadm /dev/md0 -a /dev/sdb1 i podem observar que el sistema inicia el proc\u00e9s de \"rebuiling\". En uns instants, el disc tornar\u00e0 a estar disponible per a l'\u00fas.</p> <p>mdadm /dev/md0 -a /dev/sdb1\u00e7</p> <p></p> <p>Eliminar el RAID</p> <p>Per desfer o esborrar el RAID, seguiu aquests passos:</p> <p>Desmuntar el dispositiu RAID:</p> <p>umount /dev/md0 Aturar el dispositiu RAID:</p> <p>mdadm --stop /dev/md0 Eliminar la informaci\u00f3 del superblock:</p> <p>mdadm --zero-superblock /dev/sdb1 /dev/sdc1 Treure el dispositiu RAID:</p> <p>mdadm --remove /dev/md0 Eliminar el directori de muntatge: rm -r /raid1 Comproveu que el RAID s'ha eliminat correctament amb:</p> <p>mdadm --detail /dev/md0 A continuaci\u00f3, esborreu la configuraci\u00f3 actual del RAID del fitxer /etc/mdadm/mdadm.conf deixant-lo buit.</p> <p></p> <p>Finalment, elimineu o comenteu la l\u00ednia que heu afegit al fitxer /etc/fstab.</p> <p></p>"},{"location":"SPRINT4/3.RAID-5/","title":"3.RAID 5","text":"<p>Configuraci\u00f3 de RAID 5 RAID 5 RAID 5 combina la distribuci\u00f3 de dades amb la paritat, de manera que la informaci\u00f3 de paritat es reparteix entre tots els discos. Aix\u00f2 permet recuperar les dades en cas de fallada d'un disc. En aquesta configuraci\u00f3 s'utilitzen quatre discos, on la paritat actua com una protecci\u00f3 addicional.</p> <p>Afegir els Discos El primer pas \u00e9s assegurar-se que els quatre discos estiguin correctament connectats al sistema. Podeu verificar-ho visualment i amb eines de gesti\u00f3 del sistema.</p> <p></p> <p>Comprovaci\u00f3 amb lsblk</p> <p>Un cop connectats, comproveu que el sistema reconeix tots els discos executant la comanda lsblk. Aquesta ordre mostrar\u00e0 una llista dels dispositius d'emmagatzematge disponibles.</p> <p></p> <p>Creaci\u00f3 de Particions</p> <p>Cal crear particions a cada disc indicant el tipus adequat. Quan feu les particions, assegureu-vos d'especificar l'opci\u00f3 \"t\" per definir el tipus de partici\u00f3 i \"fd\" per indicar que s\u00f3n particions de Linux RAID autodetectable.</p> <p></p> <p>Creaci\u00f3 del RAID 5 Per crear el RAID 5, s'executa la comanda seg\u00fcent: sudo mdadm --create /dev/md0 --level=5 --raid-devices=4 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1 Aquesta instrucci\u00f3 agrupa les particions dels quatre discos en un \u00fanic dispositiu RAID, anomenat /dev/md0.</p> <p></p> <p>Verificaci\u00f3 del RAID</p> <p>Despr\u00e9s de crear el RAID, \u00e9s important comprovar-ne l'estat. Executeu la comanda sudo mdadm --detail /dev/md0 per confirmar que s'ha creat correctament i que est\u00e0 operatiu.</p> <p></p> <p>Formataci\u00f3 del RAID</p> <p>Un cop creat el dispositiu RAID, cal formatgeu-lo amb el sistema d'arxius que preferiu, per exemple, ext4. Aquesta operaci\u00f3 prepara el RAID per a l'emmagatzematge de dades.</p> <p></p> <p>Muntatge Temporal</p> <p>A continuaci\u00f3, creeu un directori de muntatge, com per exemple /mnt/raid5, i munteu-hi el dispositiu RAID de manera temporal per provar-ne el funcionament.</p> <p></p> <p>Actualitzaci\u00f3 de la Configuraci\u00f3 de mdadm</p> <p>Per desar la configuraci\u00f3 actual del RAID, escanegeu-la i deseu-la al fitxer de configuraci\u00f3 executant: mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf Aquesta acci\u00f3 permet que el sistema detecti autom\u00e0ticament el RAID en futurs arrencades.</p> <p></p> <p>Revisi\u00f3 del Fitxer de Configuraci\u00f3</p> <p>Obriu el fitxer /etc/mdadm/mdadm.conf amb l'editor de text que preferiu per confirmar que la configuraci\u00f3 s'ha desat correctament. Si cal, realitzeu els ajustos addicionals corresponents.</p> <p></p> <p>Configuraci\u00f3 del Muntatge Autom\u00e0tic FSTAB</p> <p>Per assegurar que el dispositiu RAID es munte autom\u00e0ticament en arrencar el sistema, afegiu la l\u00ednia corresponent al fitxer /etc/fstab. D'aquesta manera, no caldr\u00e0 muntar-lo manualment en cada reinici.</p> <p></p> <p>Actualitzaci\u00f3 del Sistema d'Arrencada Finalment, executeu la comanda update-initramfs -u -k all per actualitzar la configuraci\u00f3 d'arrencada del sistema. Aquesta actualitzaci\u00f3 garanteix que el nou dispositiu RAID s'inclogui en el proc\u00e9s d'arrencada, permetent que es munte correctament en futurs reinicis.</p> <p></p> <p>Proves del RAID5</p> <p>En aquest apartat es crearan fitxers dins del directori muntat del RAID 5 per comprovar la integritat de les dades. Posteriorment, es simular\u00e0 la fallada d'un dels discos (disk n\u00famero 3) per verificar que la redund\u00e0ncia implementada protegeix la informaci\u00f3.</p> <p>Per comen\u00e7ar, es creen fitxers de prova al directori del RAID.</p> <p></p> <p>A continuaci\u00f3, es simula la fallada eliminant el disc n\u00famero 3 del conjunt RAID.</p> <p></p> <p>Un cop realitzada aquesta simulaci\u00f3, es reinicia el sistema per comprovar si la informaci\u00f3 continua disponible o si s'ha perdut. Cal tenir en compte que, en aquest cas, el sistema sol trigar m\u00e9s en arrancar perqu\u00e8 intenta detectar i reconstruir el RAID amb la manca d'un disc.</p> <p></p> <p>En reiniciar el sistema, hem detectat un \"SUSTO!\" ja que el RAID es troba inactiu i sembla que les dades han desaparegut. No et preocupis: aix\u00f2 nom\u00e9s vol dir que el RAID est\u00e0 aturat, no que les dades s'hagin perdut.</p> <p>Per reactivar el RAID i recuperar la seva funcionalitat, cal executar les seg\u00fcents comandes:</p> <p>mdadm --stop /dev/md0  </p> <p>mdadm -As /dev/md0  </p> <p>mount -a </p> <p>update-initramfs -u -k all  </p> <p>Un cop s'executin aquests passos, el RAID tornar\u00e0 a estar actiu i el dispositiu es muntar\u00e0 correctament, assegurant que tot torni a funcionar gr\u00e0cies a la redund\u00e0ncia del RAID 5.</p> <p></p> <p>Tornem a afegir un disc nou per a restaurar la configuraci\u00f3 de 4 discs Ja ens ha arribat el nou disc i el hem connectat al PC.</p> <p></p> <p>Abans d'afegir-lo al RAID, \u00e9s necessari preparar el disc. Utilitzeu l'eina fdisk per crear la partici\u00f3 corresponent i configurar-la per a Linux RAID autodetectable. Un cop preparat, podeu afegir el disc al RAID amb mdadm i verificar la seva incorporaci\u00f3.</p> <p></p> <p>Finalment, comproveu que les dades segueixen assegurades i que el RAID funciona correctament amb la nova configuraci\u00f3.</p> <p></p>"},{"location":"SPRINT5/","title":"1. Monitoratge","text":""},{"location":"SPRINT5/#2-servidor-dactualizacions","title":"2. Servidor d'actualizacions","text":""},{"location":"SPRINT5/#3-auditoria-de-seguretat-per-a-linux","title":"3. Auditoria de seguretat per a Linux","text":""},{"location":"SPRINT5/1.Monitoritzaci%C3%B3/","title":"1.Monitoritzaci\u00f3","text":"<p>Monitoritzaci\u00f3 i rendiment INTERF\u00cdCIE GR\u00c0FICA Una de les eines que podem fer servier per tindre controlat el rendiment, \u00e9s el programa Estad\u00edstiques de l'energia. Aquesta serveix per tindre informaci\u00f3 sobre el dispositiu, tipus, si \u00e9s xarxa el\u00e8ctrica i cada quan es refresca, entre altres caracteristiques.  </p> <p>Seguidament, tamb\u00e9 tenim el programa Monitor de sistema, aquest t\u00e9 diferents apartats, per exemple en aquest que mostro a la captura podem observar tots els processos actius, quan consumeixen, usuari que el provoca, etc. </p> <p></p> <p>En el segon apartat podem veure en m\u00e9s detall el consum a temps real de la cpu, la xarxa i el disc.  </p> <p>Per \u00faltim, tenim l'apartat File System, aquest mostra quant estem utilitzant al disc.  </p> <p>TERMINAL El primer que farem \u00e9s observar el fitxers que cont\u00e9 el directori /var/log/. Seguidament explicar\u00e9 la funci\u00f3 de cadascun:</p> <p>cd /var/log/  alternatives.log: Registra els canvis en el sistema d'alternatives d'Ubuntu, que gestiona enlla\u00e7os simb\u00f2lics per diferents versions de programes. apport.log: Guarda informaci\u00f3 sobre fallades i errors en aplicacions, \u00fatil per depurar problemes. apt/: Directori que cont\u00e9 els registres de les operacions de apt, com instal\u00b7lacions, actualitzacions i eliminacions de paquets. auth.log: Guarda informaci\u00f3 sobre autenticacions del sistema, inici de sessi\u00f3 d'usuaris i esdeveniments relacionats amb la seguretat. boot.log: Cont\u00e9 els missatges generats durant l'inici del sistema. bootstrap.log: Registra informaci\u00f3 sobre la instal\u00b7laci\u00f3 inicial del sistema operatiu. btmp: Registra intents de connexi\u00f3 fallits. Es pot llegir amb lastb. cloud-init.log / cloud-init-output.log: Fitxers relacionats amb la configuraci\u00f3 inicial en sistemes basats en el n\u00favol (Cloud-init). cups/: Directori amb registres del servei d'impressi\u00f3 CUPS. cups-browsed: Fitxer de registre del servei de detecci\u00f3 d'impressores en la xarxa. dist-upgrade: Cont\u00e9 informaci\u00f3 sobre actualitzacions de distribuci\u00f3 (do-release-upgrade). dmesg: Registra missatges del nucli (kernel), \u00fatil per veure errors de hardware i dispositius durant l'arrencada. dpkg.log: Registra totes les accions realitzades pel gestor de paquets dpkg (instal\u00b7lacions, eliminacions, actualitzacions). faillog: Cont\u00e9 informaci\u00f3 sobre intents de connexi\u00f3 fallits dels usuaris. fontconfig.log: Relacionat amb la configuraci\u00f3 i registre de fonts tipogr\u00e0fiques en el sistema. gdm3: Registre del gestor de sessi\u00f3 gr\u00e0fica GDM3 (GNOME Display Manager). gpu-manager.log: Cont\u00e9 informaci\u00f3 sobre la gesti\u00f3 de la GPU en el sistema. hp/: Directori amb registres de HPLIP, el programari per a impressores HP. installer/: Registres relacionats amb la instal\u00b7laci\u00f3 inicial del sistema operatiu. journal/: Cont\u00e9 els registres del systemd-journald, una alternativa a syslog per registrar esdeveniments del sistema. kern.log: Guarda informaci\u00f3 sobre el nucli de Linux, \u00fatil per detectar errors de maquinari o * m\u00f2duls del nucli. lastlog: Cont\u00e9 informaci\u00f3 sobre la darrera connexi\u00f3 de cada usuari. Es pot consultar amb lastlog. openvpn/: Directori amb registres del servei OpenVPN, si est\u00e0 instal\u00b7lat. private/: Carpeta que pot contenir registres sensibles i restringits. README: Normalment, un fitxer de text amb informaci\u00f3 sobre el contingut del directori /var/log/. speech-dispatcher: Registres del servei speech-dispatcher, utilitzat per a la s\u00edntesi de veu en aplicacions d'accessibilitat. sssd: Cont\u00e9 registres del System Security Services Daemon, que gestiona autenticacions i serveis relacionats amb usuaris. syslog: Registre principal del sistema que cont\u00e9 missatges de diferents serveis i aplicacions. sysstat: Registres de l'eina sysstat, que monitoritza el rendiment del sistema. ubuntu-advantage.log: Registre relacionat amb Ubuntu Advantage, un servei empresarial d'Ubuntu. unattended-upgrades: Cont\u00e9 registres de les actualitzacions autom\u00e0tiques del sistema (unattended-upgrades). wtmp: Mant\u00e9 un registre de les connexions dels usuaris. Es pot consultar amb last.</p> <p>Seguidament entrarem dins del fitxer /etc/logrotate.conf aquest serveix per configurar la gesti\u00f3 autom\u00e0tica dels fitxers de registre del sistema, definint cada quant temps es roten, es comprimeixen, s'eliminen o es conserven els registres antics per evitar que ocupin massa espai al disc.</p> <p>sudo nano /etc/logrotate.conf  Despr\u00e9s tamb\u00e9 tenim el directori /etc/logrotate.d/, aquest cont\u00e9 configuracions espec\u00edfiques de logrotate per a diferents serveis i aplicacions del sistema. Cada fitxer dins d'aquest directori defineix les regles de rotaci\u00f3 de logs per un servei concret, permetent una gesti\u00f3 m\u00e9s detallada i personalitzada dels registres.</p> <p>cd /etc/logrotate.d/</p> <p>sudo nano dpkg</p> <p></p> <p></p> <p>En versions anteriors el fitxer /etc/rsyslog.conf era el que administrava tot, ara si entrem dins el propi fitxer indica que la ruta correcta \u00e9s /etc/rsyslog.d/*.conf.</p> <p>sudo nano /etc/rsyslog.conf  Entrarem dins del fitxer /etc/rsyslog.d/50-default.conf, aquest \u00e9s el administra actualment.</p> <p>sudo nano /etc/rsyslog.d/50-default.conf  Farem un tail -f /var/log/syslog per revisar els logs a temps real.</p> <p>tail -f /var/log/syslog  Seguidament, farem un parell de proves. Per exemple si amb el logger creem un log d'alter en mail amb un missatge al executar-ho apareixer\u00e0 al tail.</p> <p>tail -f /var/log/syslog</p> <p>logger -i -s -p mail.alert Alerta de mail!!!  Si revisem el contingut dels fitxers mail.log i mail.err ens sortir\u00e0 el resultat.</p> <p>cat /var/log/mail.log</p> <p>cat /var/log/mail.err  Tot seguit, realitzarem un parell de canvis. En el fitxer de configuraci\u00f3 canviarem la linia de mail.err i li ficarem un \"=\".</p> <p>mail.=err /var/log/mail.err  Cada vegada que modifiquem aquest fitxer haurem de reinciar el servei, ja que si no els canvis no s'aplicaran.</p> <p>systemctl restart rsyslog  Despr\u00e9s, farem un tail en el que quan creesem una alerta de mail ens sortir\u00e0 al propi tail i als fitxers mail.log i mail.err.</p> <p>tail -f /var/log/syslog</p> <p>logger -i -s -p mail.alert Alerta de error mail</p> <p>cat /var/log/mail.log</p> <p>cat /var/log/mail.err</p> <p></p> <p>Seguidament, anirem al fitxer de configuraci\u00f3 i que tots els fitxers crit vaigin al fitxer alumnat.log, aquest el creem per qu\u00e8 alhora de revisar errors critics en el sistema diariament, ens ajuda a trovar-los m\u00e9s rapidament.</p> <p>*.crit /var/log/alumnat.log</p> <p>systemctl restart rsyslog</p> <p></p> <p> A continuaci\u00f3 per que surten tots els errors a syslog ficarem asteriscs.</p> <p>. -/var/log/syslog </p> <p>Com podem obeservar amb el tail veurem que els fitxers .crit surten.</p> <p>A continuaci\u00f3 per filtrar procesos podem utilitzar grep o tamb\u00e9 podem utilitzar journalctl.</p> <p>cat /var/log/syslog | grep alumnat</p> <p>journalctl -p crit</p> <p>Tamb\u00e9 podem filtrar a partir de serveis o a partir de noms.</p> <p>journalctl -u auth</p> <p>journalctl -sdhhvg \"\" --until \"\"</p> <p></p> <p></p> <p>REMOT El primer que haurem de fer \u00e9s anar a la vm que rep el log remot i instal\u00b7lar rsyslog. Despr\u00e9s anirem al fitxer /etc/rsyslog.conf i descomentarem les linies que indica la captura.</p> <p>sudo apt update</p> <p>sudo apt install rsyslog  Seguidament al firewall acceptarem del port 514 udp i tcp. En acabar, haurem de fer un sudo systemctl restart rsyslog.</p> <p>ufw allow 514/upd</p> <p>ufw allow 514/tcp  Ara anirem a la m\u00e0quina que envia el log, en aquesta tamb\u00e9 instal\u00b7larem rsyslog i en la configuraci\u00f3 afegirem la ip del receptor.</p> <p>sudo apt update</p> <p>sudo apt install rsyslog  A continuaci\u00f3 desde la vm receptora farem un tail de syslog per escoltar.</p> <p>tail -f /var/log/syslog </p> <p>Despr\u00e9s desde l'emissor, enviarem els seg\u00fcents logs. log  Per \u00faltim podrem observar desde la receptora que ha funcionat correctament el proc\u00e8s.</p> <p></p>"},{"location":"SPRINT5/2.Servidor_d%27actualitzacions/","title":"2.Servidor d'actualitzacions","text":"<p>Servidor actualitzacions Un servidor d'actualitzacions es un servidor al qual diversos equips clients est\u00e0n connectats i agafen els paquets d'actualitzacions d'aquesta m\u00e0quina servidor, aix\u00ed no col\u00b7lapsem els serveis si molts clients es volen descarregar un paquet a la vegada. Per comprovar el funcionament d'aquesta metodologia utlitzarem l'eina apache.</p> <ul> <li>Servidor En primer lloc, instal\u00b7larem el paquet apache. </li> </ul> <p></p> <p>Segudiament, instal\u00b7larem el paquet mirror, que ser\u00e0 el que ens permetr\u00e0 copiar qualsevol cosa que tinguem en un directori a un altre, com si fos un mirall. </p> <p></p> <p>A continuaci\u00f3, al fitxer /etc/apt/mirror.list configurarem el paquet d'instal\u00b7laci\u00f3 de google chrome. </p> <p></p> <p>Un cop tenim aquest fitxer modificat executarem l'apt-mirror </p> <p></p> <p>Despr\u00e9s, ens assegurarem que a la carpeta del mirror hi hagi el paquet d'instal\u00b7laci\u00f3 del chrome de la seg\u00fcent manera: </p> <p></p> <p>Si hem seguit tots aquests passos la part de configurar el servidor ja ha finalitzat, ara procedirem a la configuraci\u00f3 del client per poder accedir al instal\u00b7lador del chrome del client al servidor.</p> <ul> <li>Client El primer pas \u00e9s afegir la clau GPG de Google al sistema. Aquesta clau s'utilitza per verificar la integritat i autenticitat dels paquets descarregats des dels repositoris de Google, en aquest cas Chrome.</li> </ul> <p></p> <p>A m\u00e9s a m\u00e9s, al fitxer ubuntu.sources afegirem la ruta del paquet del chrome, per\u00f2, amb la IP del nostre servidor. </p> <p></p> <p>Seguidament, modificarem l'arxiu /etc/apt/sources.list.d/ubuntu.sources que aqu\u00ed tamb\u00e9 li indicarem que els paquets que volem que instal\u00b7li tinguin la ruta del nostre servidor, aix\u00ed ens assegurem de que els extreu del servidor. </p> <p></p> <p></p> <p>Finalment, llan\u00e7arem un update al client per veure si realment utilitza les rutes que apunten al servidor, i ens fixarem si els paquets contenen la IP d'aquest. </p> <p></p> <p></p> <p>Per acabar, veurem que si que agafa els paquets del servidor, sol ens quedaria verificar que s'ha instal\u00b7lat el chrome correctament. </p> <p></p>"},{"location":"SPRINT5/3.Auditoria_seguretat/","title":"3.Auditoria seguretat","text":"<p>Auditoria - Lynis El primer pas que hem dur a terme es fer un update, un cop acabat instal\u00b7larem el Lynis</p> <p>sudo apt install lynis -y</p> <p></p> <p>Un cop tenim el paquet instal\u00b7lat executarem el programa per fer un escaneig al sistema.</p> <p>lynis audit system</p> <p></p> <p>Un cop executada aquesta comanda el programa comen\u00e7ar\u00e0 un escaneig de tot el sistema i els seus apartats, per cada part ens detallar\u00e0 l'estat si esta correcte, no trobat, o amb algun error. I per \u00faltim ens mostrar\u00e0 un resum amb els detalls del que ha escanejat. \u00e7</p> <p></p> <p></p> <p>En cas de voler fer un escaneig r\u00e0pid podem utilitzar la seg\u00fcent comanda. El resultat es similar a l'anterior.</p> <p>lynis -Q</p> <p></p> <p>Als dos escaneigos que hem realitzat ens trobarem que hi ha un apartat de sugerencies per millorar la seguretat del nostre dispositiu, i com podrem veure al resum detallat, ens diu el nivell de \"hardening index\" que vindria a ser un \u00edndex de nivell de seguretat.</p> <p> </p> <p></p> <p>Per millorar aquest index, podem comen\u00e7ar instal\u00b7lant i seguint els passos de les propostes, l'\u00fanic porblema es que el paquet listbugs ha quedat obsolet i ara es diu listchanges. A continuaci\u00f3 mostrar\u00e9 com instal\u00b7lo diversos paquets i el resultat de la millora del \u00edndex.</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"WINDOWS-S1/","title":"1.Instalacio Windows Server, W10 i Ubuntu","text":""},{"location":"WINDOWS-S1/#2punts-de-restauracio-i-aplicacions","title":"2.Punts de restauraci\u00f3 i aplicacions","text":""},{"location":"WINDOWS-S1/#3llicencies-de-windows","title":"3.LLicencies de Windows","text":""},{"location":"WINDOWS-S1/1.Instalacio-windows-server-w10-ubunut/","title":"1.Instalacio windows server w10 ubunut","text":"<p>Introducci\u00f3 En aquest projecte veurem la funcionalitat del sistema operatiu Windows, el seu tipus de llic\u00e8ncies i tamb\u00e9 identificarem els seus elements funcionals. Realitzarem la seva instal\u00b7laci\u00f3 i configuraci\u00f3, i mostrarem com configurar els serveis de xarxa i els seus protocols mitjan\u00e7ant m\u00e0quines virtuals.</p> <p>Instal\u00b7laci\u00f3 Windows Server Per instal\u00b7lar un Windows Server en una m\u00e0quina virtual, el primer que necessitarem ser\u00e0 una ISO del sistema operatiu. Despr\u00e9s comen\u00e7arem amb una instal\u00b7laci\u00f3 creant una m\u00e0quina nova amb VirtualBox. </p> <p></p> <p>Els primers passos despr\u00e9s d'afegir la ISO del sistema s\u00f3n donar les capacitats de la m\u00e0quina de VirtualBox, tant la mem\u00f2ria RAM com el n\u00famero de nuclis que utilitzar\u00e0 el processador i la mem\u00f2ria f\u00edsica que tindr\u00e0 la nostra m\u00e0quina, tal com es mostra a continuaci\u00f3.</p> <p>  Un cop confirmada la configuraci\u00f3, arrenquem la m\u00e0quina i comencem la instal\u00b7laci\u00f3 del sistema, seguint els passos que es mostren. </p> <p></p> <p>En aquest punt ens demanar\u00e0 quina versi\u00f3 del sistema volem instal\u00b7lar. Escollirem la que ens facilita una interf\u00edcie gr\u00e0fica. I despr\u00e9s acceptarem els termes de la llic\u00e8ncia. </p> <p>Seguidament escollirem el tipus d'instal\u00b7laci\u00f3 personalitzada, per escollir les mides del disc de forma manual, en aquest cas volem que el sistema ocupi el 100% del disc. </p> <p></p> <p>Finalment veurem que ja se'ns comen\u00e7a a instal\u00b7lar i simplement hem d'esperar. </p> <p></p> <p></p> <p>Un cop acabat esborrem la imatge ISO de la instal\u00b7laci\u00f3 i arrenquem la m\u00e0quina de nou. A continuaci\u00f3 haurem de configurar l'usuari administrador.</p> <p></p> <ul> <li>Configuraci\u00f3 IP est\u00e0tica En aquest punt configurarem una IP est\u00e0tica, ja que ens interessa que el servidor sempre tingui la mateixa IP. Els passos a seguir s\u00f3n els seg\u00fcents: Entrar a la configuraci\u00f3 de xarxa, Ethernet, opcions de l'adaptador, propietats de l'adaptador i a funcions de xarxa escollim IPv4. Un cop fet aix\u00f2 escollim la IP, la m\u00e0scara i la porta d'enlla\u00e7.</li> </ul> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Un cop tot configurat des del terminal o CMD comprovem que la IP sigui la configurada amb la comanda ipconfig. </p> <p></p> <p>Instal\u00b7laci\u00f3 Windows 10</p> <p>Com hem fet a l'apartat anterior seleccionarem la imatge ISO del sistema operatiu Windows 10, i un cop fet aix\u00f2 donarem els par\u00e0metres de la m\u00e0quina virtual, tant de RAM com d'espai i nuclis. </p> <p></p> <p></p> <p>Un cop tenim feta la configuraci\u00f3 de la m\u00e0quina l'arrenquem i s'iniciar\u00e0 l'instal\u00b7lador de Windows, seguirem els passos que hem vist en l'apartat anterior, ja que la instal\u00b7laci\u00f3 \u00e9s molt similar. </p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Un cop acabada la instal\u00b7laci\u00f3 esborrarem la imatge ISO d'instal\u00b7laci\u00f3. I arrenquem la m\u00e0quina de nou. Ara ens demanar\u00e0 configurar l'usuari i una serie de funcionalitats de Windows, aquestes es poden escollir al nostre gust, jo en aquest cas les he rebutjat totes. Despr\u00e9s ja podrem accedir amb normalitat.</p> <p></p> <p></p> <ul> <li>Dual Windows + Ubuntu El seg\u00fcent pas ser\u00e0 crear una partici\u00f3 apta per instal\u00b7lar un sistema operatiu ubuntu per fer una arrencada DUAL. El primer pas ser\u00e0 configurar la partici\u00f3 del nostre disc utilitzant l'eina del propi Windows el Disc Manager.</li> </ul> <p></p> <p>Un cop som dins de l'aplicaci\u00f3 el que farem ser\u00e0 reduir l'espai del disc per generar una partici\u00f3 on poder instal\u00b7lar l'ubuntu, escollirem mes o menys la meitat del disc o unes 20 GB per a que el sistema tingui espai de sobra. Com podrem observar ens queda una partici\u00f3 buida no assignada. </p> <p></p> <p></p> <p></p> <p>A continuaci\u00f3 li donarem format a la partici\u00f3 que hem creat tal i com es mostra. El sistema de fitxers escollit es el NTFS, Linux es capa\u00e7 de llegir aquest sistema de fitxers i ens far\u00e0 l'instal\u00b7laci\u00f3 mes senzilla.</p> <p></p> <p></p> <p>Un cop tenim tot preparat amb el virtualbox afegim la imatge ISO d'Ubuntu, es important esborrar la part que posa que hi ha una unitat optica buida, sino l'instal\u00b7lador no arrencar\u00e0. </p> <p></p> <p>Escollirem l'opci\u00f3 d'instal\u00b7lar ubuntu i comen\u00e7arem amb una configuraci\u00f3 estandar com ja hem vist en projectes anteriors.</p> <p></p> <p>En aquest cas i com linux pot reconeixer el windows tenim l'opci\u00f3 d'instl\u00b7lar ubuntu conjuntament amb el windows, i escollirem aquesta opci\u00f3 si no hem deixat un espai preparat. En aquest cas he esobrrat la partici\u00f3 que he fet i amb aquesta opci\u00f3 pots seleccionar les GB que vols que ocupi Ubuntu i el propi sistema ho fa, aix\u00ed no fa falta modificar el disc.</p> <p></p> <p></p> <p>Despr\u00e9s podem seguir amb la instal\u00b7laci\u00f3. </p> <p></p> <p>Un cop ja s'ha acabat la instal\u00b7laci\u00f3 reiniciem el sistma i escollim ubuntu per comprovar si arrenca b\u00e9. </p> <p>Com podem veure Ubuntu arrenca i funciona correctament.</p>"},{"location":"WINDOWS-S1/2.Punts-de-restauracio-i-aplicacions/","title":"2.Punts de restauracio i aplicacions","text":"<p>Punts de restauraci\u00f3 i aplicacions - Punts de restauraci\u00f3 Per crear punts de restauraci\u00f3 Windows disposa d'una eina gr\u00e0fica que ens permet guardar l'estat d'un disc en el moment en que es realitza. Primerament, obrirem aquesta eina i a la configuraci\u00f3 activarem la protecci\u00f3 del sistema tal com es mostra. </p> <p></p> <p>!09</p> <p>Un cop fet aix\u00f2 veurem que ja s'ha quedat activada la protecci\u00f3 del disc C, i podrem seguir creant el punt de restauraci\u00f3, amb l'opci\u00f3 crear.</p> <p></p> <p></p> <p> Ara ja tenim el punt de restaurci\u00f3 creat i per tal de comprovar el seu funcionament instal\u00b7larem alguna aplicaci\u00f3 per fer canvis al disc.</p> <p></p> <p> Seguidament al panell de control a la part de \"programas y caracteristicas\" podem consultar tots els programes i aplicacions que hi ha instal\u00b7lats al nostre sistema. Com es pot veure el Firefox esta instal\u00b7lat. </p> <p>Finalment, recuperarem l'estat anterior del sistema a partir del punt de restauraci\u00f3 que s'ha fet pr\u00e8viament. Per fer aix\u00f2 tornarem a la configuraci\u00f3 dels punts de restauraci\u00f3 i anirem a l'apartat de \"restaurar sistema\", all\u00e0 se'ns obrir\u00e0 una nova finestra on escollirem el punt de restauraci\u00f3, si el seleccionem i continuem, comen\u00e7ara la restauraci\u00f3. </p> <p></p> <p> </p> <p>Una vegada s'ha reiniciat l'equip es mostrar\u00e0 un missatge de que la restauraci\u00f3 ha sigut completada i llavors mirarem si el Firefox ja no hi es.</p> <p></p> <p></p>"},{"location":"WINDOWS-S1/3.Llicencies-de-windows/","title":"3.Llicencies de windows","text":"<p>ic\u00e8ncies de Windows i llic\u00e8ncies CAL Quan treballem amb servidors Windows, no n'hi ha prou amb tenir la llic\u00e8ncia del sistema operatiu. Tamb\u00e9 calen llic\u00e8ncies addicionals anomenades CAL (Client Access License), que permeten la connexi\u00f3 legal d\u2019usuaris o dispositius al servidor.</p> <p>Qu\u00e8 \u00e9s una llic\u00e8ncia CAL? Una CAL \u00e9s una llic\u00e8ncia que autoritza un usuari o un dispositiu a connectar-se legalment a un servidor Windows.</p> <p>La llic\u00e8ncia de Windows Server nom\u00e9s cobreix el dret d\u2019instal\u00b7lar i utilitzar el sistema operatiu en el servidor.</p> <p>Qualsevol acc\u00e9s al servidor (per fitxers, aplicacions, Active Directory...) requereix una CAL addicional.</p> <p>Tipus de llic\u00e8ncia CAL Hi ha dos tipus de CAL, i cal escollir segons el model de treball de l\u2019empresa:</p> <p>CAL per usuari (User CAL)</p> <p>Assignada a una persona.</p> <p>Permet connectar-se al servidor des de diversos dispositius.</p> <p>Ideal per a treballadors que utilitzen diversos dispositius: port\u00e0til, m\u00f2bil, ordinador de casa...</p> <p>CAL per dispositiu (Device CAL)</p> <p>Assignada a un dispositiu concret.</p> <p>Qualsevol usuari pot utilitzar aquest dispositiu per accedir al servidor.</p> <p>Recomanable en entorns com aules o laboratoris on diversos usuaris comparteixen un mateix PC.</p> <p>Preus orientatius de CALs:</p> <p>CAL per usuari: entre 30 \u20ac i 45 \u20ac</p> <p>CAL per dispositiu: entre 25 \u20ac i 40 \u20ac</p> <p>Tipus de llic\u00e8ncia de Windows (per a sistemes operatius) Cada versi\u00f3 de Windows ofereix funcionalitats diferents. Cal triar la que millor s\u2019adapti a l\u2019\u00fas previst.</p> <p>Windows Home</p> <p>Pensada per a \u00fas dom\u00e8stic.</p> <p>No permet unir-se a un domini.</p> <p>No admet connexi\u00f3 d\u2019escriptori remot.</p> <p>No recomanada per a entorns professionals.</p> <p>Preu aproximat: 100 \u20ac (normalment inclosa en equips dom\u00e8stics).</p> <p>Windows Pro</p> <p>Enfocada a professionals i petites empreses.</p> <p>Permet unir-se a un domini.</p> <p>Admet connexi\u00f3 d\u2019escriptori remot.</p> <p>Inclou BitLocker, Hyper-V, i m\u00e9s opcions de gesti\u00f3.</p> <p>Preu aproximat: entre 150 \u20ac i 220 \u20ac.</p> <p>Windows Enterprise</p> <p>Dissenyada per a grans empreses.</p> <p>Inclou totes les funcions de Pro i moltes m\u00e9s:</p> <p>Gesti\u00f3 massiva d\u2019equips</p> <p>Seguretat avan\u00e7ada</p> <p>Funcions com AppLocker, DirectAccess, Windows To Go...</p> <p>S\u2019ofereix habitualment via subscripci\u00f3 de volum (Microsoft 365 E3/E5).</p> <p>Preu aproximat: entre 30 \u20ac i 55 \u20ac mensuals per usuari.</p> <p>Windows Education</p> <p>Pensada per a entorns educatius.</p> <p>Similars a Enterprise per\u00f2 amb preu redu\u00eft.</p> <p>Sol ser gratu\u00efta o a molt baix cost per a institucions educatives.</p> <p>Llic\u00e8ncia OEM</p> <p>Preinstal\u00b7lada per fabricants en equips nous.</p> <p>Est\u00e0 vinculada a la m\u00e0quina original i no es pot transferir.</p> <p>Ja inclosa en el preu de l\u2019equip.</p> <p>Llic\u00e8ncia Retail</p> <p>Es compra al detall, es pot transferir entre dispositius.</p> <p>Mateix preu aproximat que la versi\u00f3 Home o Pro.</p> <p>Exemple pr\u00e0ctic amb preus orientatius Suposem una petita empresa amb:</p> <p>1 servidor amb Windows Server 2022 Standard</p> <p>8 treballadors amb ordinadors individuals</p> <p>Necessitats:</p> <p>Llic\u00e8ncia del servidor Windows Server 2022 Standard \u2192 850 \u20ac</p> <p>Llic\u00e8ncies CAL</p> <p>Si s\u2019utilitzen User CALs: 8 usuaris \u00d7 35 \u20ac = 280 \u20ac</p> <p>Si s\u2019utilitzen Device CALs i hi ha nom\u00e9s 5 dispositius compartits: 5 \u00d7 30 \u20ac = 150 \u20ac</p> <p>Cost total aproximat:</p> <p>Amb User CALs: 850 \u20ac + 280 \u20ac = 1.130 \u20ac</p> <p>Amb Device CALs: 850 \u20ac + 150 \u20ac = 1.000 \u20ac</p> <p>Resum final Per configurar legalment un servidor Windows cal:</p> <p>Una llic\u00e8ncia del sistema operatiu del servidor (ex. Windows Server)</p> <p>Una CAL per cada usuari o dispositiu que es connecti</p> <p>Escollir entre User o Device CAL segons el model de treball</p> <p>Tenir en compte quina versi\u00f3 de Windows es necessita per als clients (Home, Pro, Enterprise...)</p>"},{"location":"WINDOWS-S2/","title":"1.Quotes i usuaris","text":""},{"location":"WINDOWS-S2/#2copies-de-seguretat-i-automatitzacio","title":"2.Copies de seguretat i automatitzacio","text":""},{"location":"WINDOWS-S2/#3gestio-de-processos","title":"3.Gestio de processos","text":""},{"location":"WINDOWS-S2/1.Quotes-i-usuaris/","title":"1.Quotes i usuaris","text":"<p>P2 S2 En aquest segon sprint veurem com gestionar i configurar usuaris i grups, establint els permisos i accessos adequats per a cada situaci\u00f3. Tamb\u00e9 administrarem el sistema d'emmagatzematge i veurem com automatitzar algunes tasques a l'hora d'iniciar sessi\u00f3 amb els diferents usuaris.</p> <p>Quotes i usuaris En primer lloc, afegirem un disc nou a la nostra m\u00e0quina per fer proves. Com ja hem vist altres vegades, a la pestanya d'emmagatzematge afegirem un disc nou. Despr\u00e9s, arrancarem el sistema de gestor de discs de Windows i configurarem dues particions: una amb el format NTFS que es dir\u00e0 \"Dades\" i l'altra amb FAT32 que es dir\u00e0 \"Portable\".</p> <p></p> <p></p> <p></p> <p></p> <p>Finalment, per comprovar si hem creat correctament aquestes particions des del terminal de comandes CMD, executarem la comanda diskpart i podrem llistar els discs i els volums per comprovar el seu format i mida. </p> <ul> <li>Quotes Per continuar, anirem a l'explorador d'arxius i all\u00e0, amb el bot\u00f3 dret damunt del disc D que hem anomenat \"Dades\", obrirem les propietats i, a la pestanya \"Quota\", obrirem la configuraci\u00f3 avan\u00e7ada.</li> </ul> <p></p> <p>Seguidament, a la configuraci\u00f3 habilitarem l'administraci\u00f3 de quotes i limitarem l'espai del disc a 300 MB i un av\u00eds a 290 MB. Tamb\u00e9, si volgu\u00e9ssim, podr\u00edem denegar que l'usuari pogu\u00e9s superar aquest l\u00edmit. I, per \u00faltim, activarem les opcions de registre. Un cop activada la configuraci\u00f3, ens sortir\u00e0 la llum del sem\u00e0for en verd i un missatge del seu estat. </p> <p></p> <ul> <li>Usuaris A continuaci\u00f3, i despr\u00e9s de configurar la quota, procedirem a la creaci\u00f3 dels usuaris. Per a aix\u00f2, obrirem l'aplicaci\u00f3 \"cuentas de usuario\" i, a les opcions avan\u00e7ades, configurarem la creaci\u00f3 d'aquests.</li> </ul> <p></p> <p>A m\u00e9s a m\u00e9s, veurem que se'ns obre l'aplicaci\u00f3 lusrmgr, on podem configurar els usuaris i grups del sistema local. Per tant, escollim la carpeta dels usuaris i, amb el bot\u00f3 dret, afegim un usuari nou. Com que volem crear dos alumnes, afegirem tant l'alumne 1 com el 2, tal com es mostra. </p> <p></p> <p></p> <p>Tant bon punt acabem la creaci\u00f3 d'aquests usuaris, veurem que ja disposem d'ells per fer les proves. </p> <p>Finalment, a la secci\u00f3 de grups, afegirem un grup nou tal com hem fet amb els usuaris i en crearem un que es digui \"Limitats\", que el formaran els dos alumnes creats anteriorment, afegint-los amb l'opci\u00f3 de \"Agregar\". </p> <p></p> <p></p> <p>Per acabar, comprovarem que puguem iniciar sessi\u00f3 amb els dos i que ens apareguin per poder fer-ho. </p> <p>Com a prova, amb l'alumne 1 excedirem la mida que poden utilitzar del disc D. L'av\u00eds que ens dona \u00e9s que ha excedit el l\u00edmit. Ens ha deixat sobrepassar-lo ja que aix\u00ed ho hem configurat. </p>"},{"location":"WINDOWS-S2/2.copies-de-seguretat-i-automatitzacio/","title":"2.copies de seguretat i automatitzacio","text":"<p>C\u00f2pies de seguretat i automatitzaci\u00f3 Per poder fer les c\u00f2pies de seguretat afegirem un disc nou d'uns 10GB tal i com hem fet abans. Tamb\u00e9, amb l'eina de Windows configurarem tot el disc amb el format NTFS i l'anomenarem \"Backups\".</p> <p></p> <p></p> <p>Seguidament, quan ja haguem formatat el disc, crearem una carpeta anomenada \"C\u00f2piesUsuaris\" (L'accent de la o pot portar a conflictes). </p> <p>A continuaci\u00f3, farem un script per crear una c\u00f2pia de la carpeta de cada usuari dins de la nova que hem creat. Per fer un script ho podem fer obrint el bloc de notes i guardant el fitxer com un .bat (IMPORTANT: Encara que el SO estigui amb qualsevol idioma la ruta del disc C ha de ser amb Users i no Usuarios).</p> <p></p> <p></p> <p>Per fer la prova executo l'script amb l'usuari administrador i com es pot veure la carpeta es crea correctament.</p> <p>Un cop tenim l'script fet volem que aquest s'executi cada cop que un usuari inici sessi\u00f3 per tant, afegirem l'script a l'aplicaci\u00f3 \"gpedit\", a la qual podem accedir escrivint \"gpedit\" al cercador de Windows. Un cop all\u00e0 buscarem la configuraci\u00f3 de Windows d'usuaris i dins dels scripts escollirem els d'inici de sessi\u00f3.</p> <p> Per comprovar el seu funcionament obrirem la sessi\u00f3 dels dos usuaris i comprovarem que si s'han realitzat les c\u00f2pies a la carpeta. (Al obrir la sessi\u00f3 veurem que s'obre un terminal, \u00e9s normal ja que aix\u00ed es realitzen les c\u00f2pies, quan acabi es tanca sol).  </p>"},{"location":"WINDOWS-S2/3.Gestio-de-processos/","title":"3.Gestio de processos","text":"<p>Gesti\u00f3 de processos El m\u00e9s important amb la gesti\u00f3 de processos de Windows \u00e9s l'eina tasklist que podem executar des del terminal de comandes (CMD). Aquesta comanda ens llistar\u00e0 tots els processos que s'estan duent a terme al nostre dispositiu, amb el seu nom, identificador del proc\u00e9s, nom i n\u00famero de sessi\u00f3 i l'\u00fas de mem\u00f2ria de cadascun.</p> <p></p> <p>Si ens interessa podem deixar un registre del que s'est\u00e0 executant en aquell moment en un fitxer de text utilitzant la seg\u00fcent comanda.</p> <p>tasklist &gt; \"ruta on volem guardar l'arxiu\\nomarxiu.txt\"</p> <p></p> <p></p> <p>Com podem veure dins d'aquests processos hi ha alguns que s\u00f3n prescindibles per l'usuari, com poden ser els d'aplicacions com Skype, One Drive i algunes m\u00e9s. Aquestes poden suposar un malbaratament de recursos del sistema si en disposem de pocs, aix\u00ed que el que farem ser\u00e0 eliminar aquests processos \"in\u00fatils\". Per\u00f2 primer veurem alguns d'aquests i la mem\u00f2ria que utilitzen.</p> <p></p> <p>Per matar els processos utilitzarem la comanda</p> <p>taskkill /IM \"nomproces\" /F</p> <p></p> <p></p> <p>Com es pot veure a la captura hi ha processos com el de Skype que tamb\u00e9 tenen un de background que tamb\u00e9 caldria \"matar\".</p> <p>Aquesta manera de matar els processos cada vegada que obrim sessi\u00f3 es pot fer tediosa, per tant, com hem fet abans afegirem aix\u00f2 al nostre script d'inici de sessi\u00f3 perqu\u00e8 aix\u00ed cada cop que obrim sessi\u00f3 aquests processos prescindibles morin. (En aquest cas he creat un script nou incloent les noves comandes) </p> <p></p> <p>Per comprovar el seu funcionament obrirem sessi\u00f3 amb l'alumne 2 i buscarem el proc\u00e9s de One Drive per veure si s'elimina.</p> <p></p> <p></p> <p>I qu\u00e8 passaria si matem un proc\u00e9s imprescindible? Doncs passaria el seg\u00fcent i per fer la prova matarem el proc\u00e9s explorer.exe </p> <p>Aquest proc\u00e9s \u00e9s el que ens permet navegar a trav\u00e9s de l'explorador d'arxius, el que ens mostra l'escriptori i la barra de tasques i tamb\u00e9 fa de motor gr\u00e0fic. Llavors matar aquest proc\u00e9s pot semblar la fi del nostre dispositiu. Per\u00f2 no hi ha problema amb la comanda start i el nom del proc\u00e9s el podem tornar a executar. L'\u00fanic que haurem de fer \u00e9s parar m\u00e9s compte amb quins processos matem. </p> <p>Permisos Si volem assignar permisos als usuaris que treballaran en certs entorns podem fer-ho de les seg\u00fcents maneres. En aquest cas el que farem ser\u00e0 al disc de \"Dades\" crear una carpeta anomenada \"Projectes\" on els usuaris alumne 1 i 2 treballaran.</p> <p>En primer lloc obrirem les propietats de la carpeta i a la pestanya de seguretat obrirem les opcions avan\u00e7ades. </p> <p>Despr\u00e9s deshabilitarem l'her\u00e8ncia i escollirem la primera opci\u00f3. Tamb\u00e9 a l'opci\u00f3 d'agregar posarem el seg\u00fcent, i esborrarem a tots els usuaris que no siguin l'administrador.</p> <p></p> <p></p> <p>El que estem fent \u00e9s donar permisos m\u00e0xims als usuaris del grup Limitats. El resultat hauria de ser semblant a aquest.</p> <p></p> <p>Per fer proves entrarem amb l'alumne 1 a la carpeta i crearem un arxiu, l'editarem, l'esborrarem i veurem que podem fer el que vulguem ja que disposem de tots els permisos.</p> <p></p> <p></p> <p>En el cas que vulguem fer alguna excepci\u00f3, com en aquest cas que l'alumne 2 nom\u00e9s pugui llegir, farem uns permisos especials amb la comanda.</p> <p>icacls \"D:\\Projectes\" /grant:r alumne2:(R)</p> <p></p> <p></p> <p>Per comprovar que nom\u00e9s tenim permisos de lectura intentarem crear algun objecte, modificar-lo i esborrar-lo, no podrem fer-ho de cap manera.</p> <p></p> <p></p>"}]}